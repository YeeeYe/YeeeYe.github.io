<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="DWBBlog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="DWBBlog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DWBBlog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/">





  <title>DWBBlog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DWBBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/22/10.react进阶(二)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/22/10.react进阶(二)/" itemprop="url">十、react进阶(事件处理和条件渲染)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-22T20:00:50+08:00">
                2019-11-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-条件渲染"><a href="#1-条件渲染" class="headerlink" title="1. 条件渲染"></a>1. 条件渲染</h3><h4 id="（1）if-else-条件渲染"><a href="#（1）if-else-条件渲染" class="headerlink" title="（1）if - else 条件渲染"></a>（1）if - else 条件渲染</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Greeting</span> (<span class="params">props</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> flag = props.flag;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>登录成功<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>登录失败<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="（2）-amp-amp-逻辑与条件渲染"><a href="#（2）-amp-amp-逻辑与条件渲染" class="headerlink" title="（2）&amp;&amp; 逻辑与条件渲染"></a>（2）&amp;&amp; 逻辑与条件渲染</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Greeting</span> (<span class="params">props</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> props.flag.length &gt;<span class="number">0</span> &amp;&amp; (props.flag.map(<span class="function"><span class="params">item</span> =&gt;</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">key</span>=<span class="string">&#123;item&#125;</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">   &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>需要注意的是数组的函数传值是 通过 <greeting name="{arr}"></greeting>进行的，而不是把数组展开，那样子就会变成一个对象</li>
</ul>
<h4 id="（3）三元表达式渲染"><a href="#（3）三元表达式渲染" class="headerlink" title="（3）三元表达式渲染"></a>（3）三元表达式渲染</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Greeting</span> (<span class="params">props</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> props.flag==<span class="literal">true</span>?<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>登录成功<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>:<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>登陆失败<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="（4）阻止组件渲染"><a href="#（4）阻止组件渲染" class="headerlink" title="（4）阻止组件渲染"></a>（4）阻止组件渲染</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Greeting</span> (<span class="params">props</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> flag = props.flag;</span><br><span class="line">    <span class="keyword">if</span>(flag == <span class="literal">false</span>)&#123;</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>; ★★</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>登录成功<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-列表渲染"><a href="#2-列表渲染" class="headerlink" title="2. 列表渲染"></a>2. 列表渲染</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> numbers = props.numbers;</span><br><span class="line">    <span class="keyword">const</span> listItem = numbers.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item&#125;</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> listItem.length &gt; <span class="number">0</span> ? <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>&#123;listItem&#125;<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span> : <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-1-Fragment-的使用-★"><a href="#2-1-Fragment-的使用-★" class="headerlink" title="2.1 Fragment 的使用 ★"></a>2.1 Fragment 的使用 ★</h4><table>
<thead>
<tr>
<th>n.</th>
<th>碎片; 片段;</th>
</tr>
</thead>
<tbody><tr>
<td>v.</td>
<td>(使) 碎裂，破裂，分裂</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> numbers = props.numbers;</span><br><span class="line">    <span class="keyword">const</span> liItems = numbers.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">React.Fragment</span> <span class="attr">key</span>=<span class="string">&#123;item.title&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">dt</span>&gt;</span>&#123;item.title&#125;<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">dd</span>&gt;</span>&#123;item.msg&#125;<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> liItems.length&gt;<span class="number">0</span>?(<span class="xml"><span class="tag">&lt;<span class="name">dl</span>&gt;</span>&#123;liItems&#125;<span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span>):<span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>jsx 表达式必须在一个根节点里面，使用 &lt;React.Fragment&gt;将其包裹在里面 。</p>
<h4 id="2-2-react组合（类似vue中slot）"><a href="#2-2-react组合（类似vue中slot）" class="headerlink" title="2.2 react组合（类似vue中slot）"></a>2.2 react组合（类似vue中slot）</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">FancyBorder</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"child"</span>&gt;</span></span></span><br><span class="line">        &lt;div className="SplitPane-left"&gt;</span><br><span class="line">            &#123;props.left&#125;</span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        &lt;div className="SplitPane-right"&gt;</span><br><span class="line">            &#123;props.right&#125;</span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;props.children&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ReactDom.render(<span class="xml"><span class="tag">&lt;<span class="name">FancyBorder</span> <span class="attr">left</span>=<span class="string">&#123;</span>&lt;<span class="attr">div</span>&gt;</span>左边内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125; right=&#123;<span class="tag">&lt;<span class="name">div</span>&gt;</span>右边内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;&gt;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>这是span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是p<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">FancyBorder</span>&gt;</span></span>,<span class="built_in">document</span>.getElementById(<span class="string">"app"</span>))</span><br></pre></td></tr></table></figure>

<h3 id="3-style-的使用"><a href="#3-style-的使用" class="headerlink" title="3. style 的使用"></a>3. style 的使用</h3><h4 id="3-1-style-js"><a href="#3-1-style-js" class="headerlink" title="3.1 style.js"></a>3.1 style.js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">render()&#123;</span><br><span class="line">       <span class="keyword">return</span> </span><br><span class="line">       &lt;h1 style=	  &#123;&#123;<span class="attr">color</span>:<span class="string">'red'</span>,<span class="attr">fontSize</span>:<span class="string">"18px"</span>,<span class="attr">marginTop</span>:<span class="string">"100px"</span>&#125;&#125;&gt; </span><br><span class="line">        这是评论列表组件</span><br><span class="line">       &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">   &#125;   </span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/   user: &#123; fontSize: '14px' &#125;,</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/  为什么两个&#123;&#123;&#125;&#125; ，可以理解成第一个&#123;&#125;为赋值已给一个 user 对象的括号 ， </span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/  再把这个 user 对象赋值给 style 即可 ，所以有两个 &#123;&#123; &#125;&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//写成 style.js 样式 ， 变成独立的文件</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    item: &#123; <span class="attr">border</span>: <span class="string">'1px dashed #ccc'</span>, <span class="attr">margin</span>: <span class="string">'10px'</span>, <span class="attr">padding</span>: <span class="string">'10px'</span>, <span class="attr">boxShadow</span>: <span class="string">'0 0 10px #ccc'</span> &#125;,</span><br><span class="line">    user: &#123; <span class="attr">fontSize</span>: <span class="string">'14px'</span>, <span class="attr">paddingLeft</span>:<span class="string">"10px"</span>&#125;,</span><br><span class="line">    content: &#123; <span class="attr">fontSize</span>: <span class="string">'12px'</span>,<span class="attr">float</span>:<span class="string">"right"</span> &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-css-样式表-★"><a href="#3-2-css-样式表-★" class="headerlink" title="3.2  css 样式表 ★"></a>3.2  css 样式表 ★</h4><p>1.安装 css 加载器 ★</p>
<p>修改 <code>webpack.config.js</code>这个配置文件，为 <code>css-loader</code> 添加参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install  style-loader  css-loader -D</span><br><span class="line"></span><br><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>导入样式表</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import   "./cmtlist.css"</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.title</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span>&#123;</span><br><span class="line">  <span class="attribute">font-style</span>: italic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> css 模块化只针对类选择器 和 Id选择器生效， 不会对标签选择器模块化</p>
<p>3.开启模块作用域 ★</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#1. webpack.config.js  修改css的rules规则，开启css的模块化</span><br><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader?modules'</span>] &#125;       <span class="comment">//modules表示为css启动模块化(启动模块化之后就有模块作用域)</span></span><br></pre></td></tr></table></figure>

<p>4.css 模块化的注意点 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*默认情况下，所有的类和id样式都会被模块化*/</span></span><br><span class="line"><span class="comment">/*使用:local()包裹的样式会被模块化，但是对于标签名的样式无效   :local默认可以省略*/</span></span><br><span class="line"><span class="comment">/*使用:global包裹的样式不会被模块化*/</span></span><br><span class="line"><span class="comment">/*但是标签名的样式不会被模块化*/</span></span><br></pre></td></tr></table></figure>

<p>一般在开发过程中，我们需要引入很多的第三方css文件，为了让第三方css文件能够被友好的使用，我们一般不会对css文件开启模块化，一般都会给自己写的less 、 sass文件开启模块化。★★★</p>
<p>5.用 :global()包裹的样式不会被模块化 ， 使用：local() 包裹的样式会被模块化，但是对于标签名的样式无效，还有默认就是local，可以省略。</p>
<h3 id="4-react的事件处理"><a href="#4-react的事件处理" class="headerlink" title="4.   react的事件处理"></a>4.   react的事件处理</h3><ul>
<li>如果handleClick2是箭头函数，则函数中的this默认指向当前组件对象</li>
<li>如果handleClick2是普通函数，则函数中的this默认指向undefine     </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onClick=&#123;this.handleClick2&#125;&gt;点我3&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<h4 id="4-1-this-的问题"><a href="#4-1-this-的问题" class="headerlink" title="4.1 this 的问题"></a>4.1 this 的问题</h4><p>修改事件函数中this指向问题：<br>               1.直接声明函数为箭头函数，此时函数中的this指向当前组件对象<br>               2.绑定事件的时候，通过bind方法来修改this指向</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onClick=&#123;this.handleClick2.bind(this,&apos;xx&apos;)&#125;</span><br></pre></td></tr></table></figure>

<p>​               3.在构造函数中通过bind修改this指向     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">constructor</span>() &#123;</span><br><span class="line"> <span class="keyword">super</span>();</span><br><span class="line"> <span class="comment">//在构造函数中改变this.handleClick2函数的this指向</span></span><br><span class="line"> <span class="keyword">this</span>.handleClick2 = <span class="keyword">this</span>.handleClick2.bind(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-2-传参的问题★★"><a href="#4-2-传参的问题★★" class="headerlink" title="4.2 传参的问题★★"></a>4.2 传参的问题★★</h4><p>1.使用箭头函数传递参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">onClick=&#123;() =&gt; <span class="keyword">this</span>.handleClick(<span class="string">"click"</span>)</span><br><span class="line">onClick=&#123;(e)=&gt;<span class="keyword">this</span>.handleClick2(e,<span class="string">"参数信息"</span>)&#125;</span><br></pre></td></tr></table></figure>

<p>差别在于第二个写法会传递一个事件对象过去，然后我们可以通过该事件对象阻止</p>
<p>默认事件等等  ， e.preventDefault 阻止默认事件 。★</p>
<p>2.通过bind来传递参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onClick=&#123;<span class="keyword">this</span>.handleClick2.bind(<span class="keyword">this</span>,<span class="string">'xx'</span>)&#125;</span><br></pre></td></tr></table></figure>

<p>缺陷是不能传递事件对象</p>
<h3 id="5-受控组件和非受控组件"><a href="#5-受控组件和非受控组件" class="headerlink" title="5.   受控组件和非受控组件"></a>5.   受控组件和非受控组件</h3><h4 id="5-1-受控组件"><a href="#5-1-受控组件" class="headerlink" title="5.1 受控组件"></a>5.1 受控组件</h4><p>受控组件又称为智能组件，顾名思义受控组件就是受到控制的组件，受控组件是数据的所有者，它拥有数据、且拥有操作数据的action。它可以使用自己的state数据，也可以将数据和操作action传递给子组件，让子组件来完成UI或者功能。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"text"</span> value=&#123;<span class="keyword">this</span>.state.age&#125; onChange = &#123;<span class="keyword">this</span>.handleChange&#125;/&gt; 改不动的 value</span><br><span class="line"></span><br><span class="line"> handleChange = <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">age</span>:e.target.value&#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.age,<span class="string">"受控组件"</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-2-非受控组件"><a href="#5-2-非受控组件" class="headerlink" title="5.2 非受控组件"></a>5.2 非受控组件</h4><p>非受控组件不同于受控组件，它自身并不能拥有可改变的数据。因为函数组件只负责接收 props 并返回 UI，在真实的 React 应用开发场景下，我们经常尽可能的使用函数组件，将整个应用的 UI 拆分成尽可能小的视觉单元。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; ref=&quot;txt&quot; defaultValue=&#123;this.state.age&#125; onChange = &#123;this.handleChange2&#125;/&gt;</span><br><span class="line"></span><br><span class="line"> handleChange2 = (e)=&gt;&#123;</span><br><span class="line">        console.log(e.target.value,&quot;这是非受控组件&quot;)</span><br><span class="line">        console.log(this.refs.txt.value,&quot;这是ref绑定的值&quot;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-ref的用法"><a href="#6-ref的用法" class="headerlink" title="6.   ref的用法"></a>6.   ref的用法</h3><h4 id="6-1-普通的用法"><a href="#6-1-普通的用法" class="headerlink" title="6.1 普通的用法"></a>6.1 普通的用法</h4><ul>
<li>ref 绑定一个普通的字符串</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123; ref绑定一个普通字符串*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">&lt;input type="text" ref="txt" defaultValue=&#123;this.props.default&#125; onChange=&#123;this.handleChange2&#125; /</span>&gt;</span><br><span class="line">    </span><br><span class="line">handleChange2 = <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e.target.value,<span class="string">"这是非受控组件"</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.refs.txt.value,<span class="string">"这是ref绑定的值"</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-2-React-createRef方法"><a href="#6-2-React-createRef方法" class="headerlink" title="6.2 React.createRef方法"></a>6.2 React.createRef方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constructor</span>()&#123;</span><br><span class="line">       <span class="keyword">super</span>()</span><br><span class="line">       <span class="keyword">this</span>.state = &#123;</span><br><span class="line">           age:<span class="string">"21"</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">this</span>.textInput = React.createRef(); ★</span><br><span class="line">       <span class="comment">//在构造器中</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">handleChange3 =<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.textInput.current.value) ★★</span><br><span class="line">      <span class="comment">//使用的方法 this.textInput.current.value</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-3-ref绑定回调函数"><a href="#6-3-ref绑定回调函数" class="headerlink" title="6.3 ref绑定回调函数"></a>6.3 ref绑定回调函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ref绑定回调函数</span></span><br><span class="line">&lt;input type=<span class="string">"text"</span> </span><br><span class="line">ref=&#123;input=&gt;&#123;<span class="keyword">this</span>.input = input&#125;&#125; ★★★</span><br><span class="line"><span class="comment">// ref=&#123;input=&gt;&#123;this.input = input&#125;&#125;  使用箭头函数进行构造</span></span><br><span class="line">defaultValue=&#123;<span class="keyword">this</span>.props.default&#125; </span><br><span class="line">onChange=&#123;<span class="keyword">this</span>.handleChange4&#125; /&gt;</span><br><span class="line"></span><br><span class="line">handleChange4 = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.input.value) ★</span><br><span class="line">    <span class="comment">// 输出使用的方法</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="6-4-ref-的转发"><a href="#6-4-ref-的转发" class="headerlink" title="6.4 ref 的转发"></a>6.4 ref 的转发</h4><p>Ref 转发是一个可选特性，其允许某些组件接收 ref，并将其向下传递（换句话说，“转发”它）给子组件。</p>
<p>简单解释：就是通过传递参数赋值的思想把父组件的 ref 赋值给子组件的 ref</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> FancyButton = React.forwardRef(<span class="function">(<span class="params">props, ref</span>) =&gt;</span> (</span><br><span class="line">  &lt;button ref=&#123;ref&#125; className=<span class="string">"FancyButton"</span>&gt;</span><br><span class="line">    &#123;props.children&#125;</span><br><span class="line">  &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">));</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 你可以直接获取 DOM button 的 ref：</span></span><br><span class="line"><span class="regexp">const ref = React.createRef();</span></span><br><span class="line"><span class="regexp">&lt;FancyButton ref=&#123;ref&#125;&gt;点击我！&lt;/</span>FancyButton&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    以下是对上述示例发生情况的逐步解释：</span></span><br><span class="line"><span class="comment">1.我们通过调用 React.createRef 创建了一个 React ref 并将其赋值给 ref 变量。</span></span><br><span class="line"><span class="comment">2.我们通过指定 ref 为 JSX 属性，将其向下传递给 &lt;FancyButton ref=&#123;ref&#125;&gt;。</span></span><br><span class="line"><span class="comment">3.React 传递 ref 给 fowardRef 内函数 (props, ref) =&gt; ...，作为其第二个参数。</span></span><br><span class="line"><span class="comment">4.我们向下转发该 ref 参数到 &lt;button ref=&#123;ref&#125;&gt;，将其指定为 JSX 属性。</span></span><br><span class="line"><span class="comment">5.当 ref 挂载完成，ref.current 将指向 &lt;button&gt; DOM 节点。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/21/9.react起始简介/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/21/9.react起始简介/" itemprop="url">九.react起始简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-21T18:25:33+08:00">
                2019-11-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-MVC的简介"><a href="#1-MVC的简介" class="headerlink" title="1. MVC的简介"></a>1. MVC的简介</h3><p><a href="https://baike.baidu.com/item/MVC" target="_blank" rel="noopener">MVC</a>全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。</p>
<p>M是指业务模型，V是指用户界面，C则是控制器，使用MVC的目的是将M和V的实现代码分离，从而使同一个程序可以使用不同的表现形式。</p>
<h3 id="2-Vuex-和-Redux-的区别"><a href="#2-Vuex-和-Redux-的区别" class="headerlink" title="2.Vuex 和 Redux 的区别"></a>2.Vuex 和 Redux 的区别</h3><p>Redux 使用的是不可变数据，而Vuex的数据是可变的。Redux每次都是用新的state替换旧的state，而Vuex是直接修改</p>
<p>Redux 在检测数据变化的时候，是通过的方式比较差异的，而其实和的原理一样，是通过来比较的（如果看源码会知道，其实他内部直接创建一个实例用来跟踪数据变化）</p>
<h3 id="3-vue-和-react-监听数据的原理"><a href="#3-vue-和-react-监听数据的原理" class="headerlink" title="3. vue 和 react 监听数据的原理"></a>3. vue 和 react 监听数据的原理</h3><ul>
<li><p>vue中借助Object.defineProperty(getter  setter) 做数据劫持</p>
</li>
<li><p>react很大程度上是通过比较对象的引用地址是否一致来看数据有没有变化(react中大量使用了不可变对象)</p>
</li>
</ul>
<h3 id="4-react-安装的目录"><a href="#4-react-安装的目录" class="headerlink" title="4. react 安装的目录"></a>4. react 安装的目录</h3><h4 id="4-1-全局安装-webpack"><a href="#4-1-全局安装-webpack" class="headerlink" title="4.1 全局安装 webpack"></a>4.1 全局安装 webpack</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2.1	构建webpack应用</span><br><span class="line">运行npm init -y 快速初始化项目</span><br><span class="line">npm install webpack@4.27.1 -d</span><br><span class="line">npm install webpack-cli -d       提供一些基本命令(比如webpack命令)</span><br><span class="line">npm install  webpack-dev-server –d</span><br><span class="line">npm i html-webpack-plugin@3.2.0 --save-dev</span><br></pre></td></tr></table></figure>

<h4 id="4-2-创建webpack-应用"><a href="#4-2-创建webpack-应用" class="headerlink" title="4.2 创建webpack 应用"></a>4.2 创建webpack 应用</h4><p>   1.src文件夹 目录下的 index.html 、main.js</p>
<ol start="2">
<li><p>dist 文件夹 ， webpack.config.js 配置如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"><span class="keyword">var</span> htmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="comment">//webpack基于node构建的，所有用的是CommonJS模块化规范</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode:<span class="string">"development"</span>,</span><br><span class="line">    entry: path.join(__dirname, <span class="string">'./src/main.js'</span>),</span><br><span class="line">    output: &#123; </span><br><span class="line">        path: path.join(__dirname, <span class="string">'./dist'</span>), </span><br><span class="line">        filename: <span class="string">'bundle.js'</span> </span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [ </span><br><span class="line">        <span class="comment">// 添加plugins节点配置插件</span></span><br><span class="line">        <span class="keyword">new</span> htmlWebpackPlugin(&#123;</span><br><span class="line">            template:path.resolve(__dirname, <span class="string">'src/index.html'</span>),<span class="comment">//模板路径</span></span><br><span class="line">            filename:<span class="string">'index.html'</span><span class="comment">//自动生成的HTML文件的名称</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装webpack和webpack-cli</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack@4.27.1 -d</span><br><span class="line">npm install webpack-cli -d       提供一些基本命令(比如webpack命令)</span><br></pre></td></tr></table></figure>

<p>4.index.html</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;../dist/bundle.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>webpack</li>
</ol>
<h4 id="4-3-配置webpack-dev-serve"><a href="#4-3-配置webpack-dev-serve" class="headerlink" title="4.3.配置webpack-dev-serve"></a>4.3.配置webpack-dev-serve</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#1.安装webpack-dev-serve</span><br><span class="line">npm install  webpack-dev-server -d</span><br><span class="line"></span><br><span class="line">#2.package.json的scripts添加dev</span><br><span class="line"> <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="string">"dev"</span>: <span class="string">"webpack-dev-server --open --port 3000 --hot --host 127.0.0.1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">#3.npm run dev     webpack-dev-server将打包后的bundle.js托管到项目根路径下(内存中)，所以可以通过下面路径访问</span><br><span class="line">  http:<span class="comment">//localhost:8080/bundle.js    </span></span><br><span class="line"></span><br><span class="line">#4.修改index.html中引入bundle.js的路径</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">	&lt;!--使用webpack-dev-server打包后内存中的bundle.js--&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script src="../</span>bundle.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="4-4-配置到内存中"><a href="#4-4-配置到内存中" class="headerlink" title="4.4. 配置到内存中"></a>4.4. 配置到内存中</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#1.安装html-webpack-plugin</span><br><span class="line">npm i html-webpack-plugin@<span class="number">3.2</span><span class="number">.0</span> --save-dev</span><br><span class="line"></span><br><span class="line">#2.修改webpack.config.js配置 ★☆★☆★☆★</span><br><span class="line"><span class="comment">// 导入自动生成HTMl文件的插件  ★☆★☆★☆★</span></span><br><span class="line"><span class="keyword">var</span> htmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">     mode:<span class="string">"development"</span>,</span><br><span class="line">    entry: path.join(__dirname, <span class="string">'./src/main.js'</span>),</span><br><span class="line">    output: &#123; </span><br><span class="line">        path: path.join(__dirname, <span class="string">'./dist'</span>), </span><br><span class="line">        filename: <span class="string">'bundle.js'</span> </span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [ </span><br><span class="line">        <span class="comment">// 添加plugins节点配置插件</span></span><br><span class="line">        <span class="keyword">new</span> htmlWebpackPlugin(&#123;</span><br><span class="line">            template:path.resolve(__dirname, <span class="string">'src/index.html'</span>),<span class="comment">//模板路径</span></span><br><span class="line">            filename:<span class="string">'index.html'</span><span class="comment">//自动生成的HTML文件的名称</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-遇到问题报错如下"><a href="#5-遇到问题报错如下" class="headerlink" title="5. 遇到问题报错如下"></a>5. 遇到问题报错如下</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack-dev-server  不是内部或外部命令，也不是可运行 的程序 或批处理文件。</span><br></pre></td></tr></table></figure>

<p>解决方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-dev-server -d</span><br></pre></td></tr></table></figure>

<h3 id="6-在-webpack-中使用-react"><a href="#6-在-webpack-中使用-react" class="headerlink" title="6.在 webpack 中使用 react"></a>6.在 webpack 中使用 react</h3><p>​        1.运行 npm install react react-dom -S 安装包</p>
<ul>
<li><p>react： 专门用于创建组件和虚拟DOM的，同时组件的生命周期都在这个包中</p>
</li>
<li><p>react-dom： 专门进行DOM操作的，最主要的应用场景，就是`ReactDOM.render()</p>
<p>2.在html页面上准备一个容器</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 容器，将来，使用 React 创建的虚拟DOM元素，都会被渲染到这个指定的容器中 --&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>​        3.main.js 中引入包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;                        // 创建组件、虚拟DOM元素，生命周期</span><br><span class="line">import ReactDOM from &apos;react-dom&apos;      // 把创建好的 组件 和 虚拟DOM 放到页面上展示的</span><br></pre></td></tr></table></figure>

<p>​       4.创建虚拟 dom ，并且渲染到页面上去</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>                        <span class="comment">// 创建组件、虚拟DOM元素，生命周期</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>      <span class="comment">// 把创建好的 组件 和 虚拟DOM 放到页面上展示的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是 创建虚拟DOM元素的 API    &lt;h1 title="啊，五环" id="myh1"&gt;你比四环多一环&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">//  第一个参数： 字符串类型的参数，表示要创建的标签的名称</span></span><br><span class="line"><span class="comment">//  第二个参数：对象类型的参数， 表示 创建的元素的属性节点</span></span><br><span class="line"><span class="comment">//  第三个参数： 子节点（包括 其它 虚拟DOM 获取 文本子节点）</span></span><br><span class="line"><span class="comment">//  参数n :  其它子节点</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myh3 = React.createElement(<span class="string">'h2'</span>,&#123;<span class="attr">title</span>:<span class="string">'这是title'</span>,<span class="attr">id</span>:<span class="string">'myh3'</span>&#125;,<span class="string">'这是myh3，下面没有子元素'</span>)</span><br><span class="line"><span class="keyword">const</span> mydiv = React.createElement(<span class="string">'div'</span>,&#123;<span class="attr">className</span>:<span class="string">'color'</span>&#125;,<span class="string">'这是一个div1的容器,下面有子元素'</span>,myh3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 3. 渲染虚拟DOM元素</span></span><br><span class="line"><span class="comment">// 参数1： 表示要渲染的虚拟DOM对象</span></span><br><span class="line"><span class="comment">// 参数2： 指定容器,注意：这里不能直接放 容器元素的Id字符串，需要放一个容器的DOM对象</span></span><br><span class="line">ReactDOM.render(myh1, <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//class使用 className</span></span><br></pre></td></tr></table></figure>



<h3 id="7-虚拟-dom的介绍（提高性能）"><a href="#7-虚拟-dom的介绍（提高性能）" class="headerlink" title="7. 虚拟 dom的介绍（提高性能）"></a>7. 虚拟 dom的介绍（提高性能）</h3><p>React.creatElement()相当于在内存中去构建 dom 。 当页面将要呈现的时候：</p>
<p>1.浏览器会获取整个页面的内容</p>
<p>2.构建dom树 document文档对象 (将页面上的标签，属性，文本转换成 dom 对象）</p>
<p>3.在内存就好像如下的形式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    tagName:<span class="string">"div"</span>,</span><br><span class="line">    attrs:[</span><br><span class="line">        &#123; <span class="attr">id</span> : <span class="string">"box"</span>&#125;,</span><br><span class="line">        &#123; <span class="attr">name</span> : <span class="string">"dongwenbin"</span>&#125;</span><br><span class="line">        &#123; <span class="attr">class</span>: <span class="string">""</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    children:[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.新旧的dom进行差异对比，产生出差异dom，更新真实的dom，最后视图的更新</p>
<h3 id="8-JSX-语法"><a href="#8-JSX-语法" class="headerlink" title="8.JSX 语法"></a>8.JSX 语法</h3><p>1.jsx语法：是一种符合 xml 规范的js语法 extend markup language 可拓展标记语言</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>安装babel：</span><br><span class="line">npm i babel-core@<span class="number">6.26</span><span class="number">.3</span> babel-loader@<span class="number">7.1</span><span class="number">.5</span> babel-plugin-transform-runtime --save-dev</span><br><span class="line"></span><br><span class="line">npm i babel-preset-env babel-preset-stage<span class="number">-0</span> --save-dev</span><br></pre></td></tr></table></figure>

<p>2.安装能够识别转换jsx语法的包 <code>babel-preset-react</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i babel-preset-react -D</span><br></pre></td></tr></table></figure>

<p>3.添加 .babelrc 文件配置文件如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;env&quot;, &quot;stage-0&quot;, &quot;react&quot;],</span><br><span class="line">  &quot;plugins&quot;: [&quot;transform-runtime&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.在 webpack.config.js中添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module: &#123; //要打包的第三方模块</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; test: /\.js|jsx$/, use: &apos;babel-loader&apos;, exclude: /node_modules/ &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>优点：不仅帮助我们创建虚拟dom，还允许我们在jsx中嵌入js表达式，js语法</p>
<p>缺点：其本质依然是借助React.createElement()来创建虚拟dom</p>
<p>在jsx中嵌入js代码 ， 需要用{} ， 数组里的 需要 key = “1”</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;arrStr.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">key</span>=<span class="string">&#123;item&#125;</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#125;)&#125;</span><br><span class="line"><span class="comment">//数组的遍历 ， 然后转换成指定的内容，也需要key 和 &#123;&#125; 进行才可以。</span></span><br><span class="line"></span><br><span class="line">&lt;label htmlFor=<span class="string">"name"</span>&gt;label&lt;<span class="regexp">/label&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#123;/</span>*  注释  *<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">只能有一个根标签，所有标签必须闭合</span></span><br></pre></td></tr></table></figure>

<h3 id="9-组件-amp-Props"><a href="#9-组件-amp-Props" class="headerlink" title="9.组件&amp;Props"></a>9.组件&amp;Props</h3><ol>
<li><h5 id="纯函数"><a href="#纯函数" class="headerlink" title="纯函数"></a>纯函数</h5><p>函数内部的代码不会对函数的入参以及函数外部的代码有任何的影响</p>
</li>
<li><h5 id="React-的组件"><a href="#React-的组件" class="headerlink" title="React 的组件"></a>React 的组件</h5><p>2.1 函数组件（纯函数）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>                        <span class="comment">// 创建组件、虚拟DOM元素，生命周期</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>      <span class="comment">// 把创建好的 组件 和 虚拟DOM 放到页面上展示的</span></span><br><span class="line"><span class="comment">//react 中创建组件的第一种方式：使用纯函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hello</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(props)</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;props.name&#125;&#123;props.age&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Hello;</span><br><span class="line"><span class="comment">//导出到外部的main.js中去接收</span></span><br></pre></td></tr></table></figure>

<p>2.2//展开运算符{…obj}，节省了代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Hello</span> <span class="attr">name</span>=<span class="string">&#123;obj.name&#125;</span> <span class="attr">age</span>=<span class="string">&#123;obj.age&#125;</span> <span class="attr">gender</span>=<span class="string">&#123;obj.gender&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Hello</span>&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>));</span><br><span class="line"></span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Hello</span> &#123;<span class="attr">...obj</span>&#125;&gt;</span><span class="tag">&lt;/<span class="name">Hello</span>&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>));</span><br></pre></td></tr></table></figure>

<p>2.2 类组件</p>
<p>2.2.1 react中给我们了一个可以继承的类</p>
</li>
</ol>
   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="comment">//super()需要是构造函数的第一行代码</span></span><br><span class="line">        <span class="keyword">super</span>()</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用class方式创建的组件允许组件有自己的state数据和action</span></span><br><span class="line">        <span class="comment">//函数的形式不可以的有自己的数据</span></span><br><span class="line">        <span class="keyword">this</span>.state = &#123;</span><br><span class="line">            msg: <span class="string">'大家好，我是 class 创建的 Movie组件'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;this.state.msg&#125;&#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//静态对象只属于类， 不属于创建new的对象</span></span><br><span class="line"><span class="comment">//静态方法，也是属于类，通过类名直接调用</span></span><br><span class="line"><span class="comment">//继承可以把公共的类放在Animal中 es6</span></span><br><span class="line"><span class="comment">//继承：class Dog extends Anmial</span></span><br><span class="line">  <span class="keyword">constructor</span>(name,age,gender)&#123;</span><br><span class="line">     <span class="keyword">super</span>(name,age);</span><br><span class="line">    <span class="comment">//super调用父类的方法来初始化成员的信息</span></span><br><span class="line">    <span class="comment">//继承的情况下必须使用super在第一行的创建，才可以创建</span></span><br><span class="line">     <span class="keyword">this</span>.gender = gender;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="9-1-两种创建的对比"><a href="#9-1-两种创建的对比" class="headerlink" title="9.1 两种创建的对比"></a>9.1 两种创建的对比</h5><ul>
<li>函数组件：又叫无状态组件、木偶组件、非受控组件 (只有props，没有state，没有生命周期钩子函数)</li>
</ul>
<ul>
<li>Class组件：有状态组件、智能组件、受控组件（有state，有生命周期钩子函数）</li>
</ul>
<h3 id="10-state-的数据更改问题"><a href="#10-state-的数据更改问题" class="headerlink" title="10. state 的数据更改问题"></a>10. state 的数据更改问题</h3><p>借助 this.setState 来修改 ，可以入参两个参数 ；</p>
<p>如果要立刻获取到更改完之后的数据，利用setState()函数指定第二个箭头参数    ,() =&gt; {}</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果我们不基于以前的值来更改当前state的值，我们可以这样下</span></span><br><span class="line">        <span class="comment">// this.setState(&#123;count:2&#125;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果我们需要根据以前的值来更改当前的state的值，我们可以向下面这样写：</span></span><br><span class="line">        <span class="comment">// this.setState((state,props) =&gt; (&#123;</span></span><br><span class="line">        <span class="comment">//     count : ++state.count</span></span><br><span class="line">        <span class="comment">// &#125;))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果我们想要修改state之后立马获取最新的数据，我们可以给setState()函数指定第二个参数</span></span><br><span class="line">        <span class="keyword">this</span>.setState(<span class="function">(<span class="params">state,props</span>) =&gt;</span> (&#123;</span><br><span class="line">            count : ++state.count</span><br><span class="line">        &#125;),()=&gt;&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.count)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">         <span class="comment">//state的更新可能是异步的!!!!</span></span><br><span class="line">        <span class="comment">//state的更新既可能是同步的,也可能是异步的。准确地说,在React内部机制能检测到的地方, setState就是异步的;在React检测不到的地方,例如setInterval,setTimeout里,setState就是同步更新的。”</span></span><br><span class="line">        <span class="comment">// setTimeout(() =&gt; &#123;</span></span><br><span class="line">        <span class="comment">//     this.setState(&#123;count:2&#125;)</span></span><br><span class="line">        <span class="comment">//     console.log(this.state.count)  //因为setState()写在了setTimeout()函数里面，所以现在的setState()就是同步更新的</span></span><br><span class="line">        <span class="comment">// &#125;, 1000);</span></span><br></pre></td></tr></table></figure>

<h5 id="10-1-state-更新的原理"><a href="#10-1-state-更新的原理" class="headerlink" title="10.1 state 更新的原理"></a>10.1 state 更新的原理</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> setState本质是通过一个队列机制实现state更新的。 执行setState时，会将需要更新的state合并后放入状态队列，而不会立刻更新state，队列机制可以批量更新state。</span><br><span class="line">如果不通过setState而直接修改this.state，那么这个state不会放入状态队列中，下次调用setState时对状态队列进行合并时，会忽略之前直接被修改的state，这样我们就无法合并了，而且实际也没有把你想要的state更新上去。</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">this.setState(newState)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">newState 存入pending 队列   （待定队列）</td>
</tr>
<tr>
<td align="center">判断是否处于 batch update  （分批更新）</td>
</tr>
<tr>
<td align="center">1.保存在 dirtyComponents 中 (Y)           2.遍历dirtyComponents ，调用updateComponent，更新               pending state or props  (N)</td>
</tr>
</tbody></table>
<p>10.1.1 如何知道已经被更新</p>
<ul>
<li>回调函数</li>
<li>钩子函数</li>
</ul>
<p>10.1.2 需要注意的地方</p>
<ul>
<li>setState可能会引发不必要的渲染(renders)</li>
<li>setState无法完全掌控应用中所有组件的状态</li>
</ul>
<h5 id="10-2-updateComponent-中的-diff"><a href="#10-2-updateComponent-中的-diff" class="headerlink" title="10.2 updateComponent 中的 diff"></a>10.2 updateComponent 中的 diff</h5><h5 id="a-tree-diff"><a href="#a-tree-diff" class="headerlink" title="(a) tree diff"></a>(a) tree diff</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">其实传统diff算法就是对每个节点一一对比，循环遍历所有的子节点，然后判断子节点的更新状态。通过循环递归对节点进行依次对比，算法时间复杂度达到 O(n^3) ，n是树的节点数，这个有多可怕呢？——如果要展示1000个节点，得执行上亿次比较。即便是CPU快能执行30亿条命令，也**很难在一秒内**计算出差异。。</span><br><span class="line"></span><br><span class="line">React 通过制定大胆的策略，将 O(n^3) 复杂度的问题转换成 O(n) 复杂度的问题。react根据自己的特点，实现了部分代码的简化。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">那么问题来了，如果DOM节点出现了跨层级操作,diff会咋办呢？</span><br><span class="line">答：diff只简单考虑同层级的节点位置变换，如果是跨层级的话，只有创建节点和删除节点的操作。</span><br></pre></td></tr></table></figure>

<h5 id="b-component-diff"><a href="#b-component-diff" class="headerlink" title="(b) component diff"></a>(b) component diff</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">React应用是基于组件构建的，对于组件的比较优化侧重于以下几点：</span><br><span class="line">1. 同一类型组件遵从tree diff比较v-dom树</span><br><span class="line">2. 不同类型组件，先将该组件归类为dirty component，替换下整个组件下的所有子节点</span><br><span class="line">3. 同一类型组件Virtual Dom没有变化，React允许开发者使用shouldComponentUpdate（）来判断该组件是否进行diff，运用得当可以节省diff计算时间，提升性能</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如上图，当组件D → 组件G时，diff判断为不同类型的组件，虽然它们的结构相似甚至一样，diff仍然不会比较二者结构，会直接销毁D及其子节点，然后新建一个G相关的子tree，这显然会影响性能，官方虽然认定这种情况极少出现，但是开发中的这种现象造成的影响是非常大的。</span><br></pre></td></tr></table></figure>

<h5 id="c-element-diff"><a href="#c-element-diff" class="headerlink" title="(c) element diff"></a>(c) element diff</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">对于同一层级的element节点，diff提供了以下3种节点操作：</span><br><span class="line">1. INSERT_MARKUP 插入节点</span><br><span class="line">2. MOVE_EXISING 移动节点</span><br><span class="line">3. REMOVE_NODE 移除节点</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">一般diff在比较集合[A,B,C,D]和[B，A，D，C]的时候会进行全部对比，即按对应位置逐个比较，发现每个位置对应的元素都有所更新，则把旧集合全部移除，替换成新的集合，如上图，但是这样的操作在React中显然是复杂、低效、影响性能的操作，因为新集合中所有的元素都可以进行复用，无需删除重新创建，耗费性能和内存，只需要移动元素位置即可。</span><br><span class="line"></span><br><span class="line">React对这一现象做出了一个高效的策略：允许开发者对同一层级的同组子节点添加唯一key值进行区分。意义就是代码上的一小步，性能上的一大步，甚至是翻天覆地的变化！</span><br></pre></td></tr></table></figure>

<p>##### </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/20/8.Git的简单用法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/20/8.Git的简单用法/" itemprop="url">八.Git的简单用法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-20T20:15:28+08:00">
                2019-11-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-秘钥的生成"><a href="#1-秘钥的生成" class="headerlink" title="1.秘钥的生成"></a>1.秘钥的生成</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#1.打开git brash，输入命令 ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</span><br><span class="line">#2.找到用户主目录下的ssh文件夹，复制id_rsa.pub 文件内容</span><br><span class="line">#3.码云后台点击设置，ssh公钥，黏贴id_rsa.pub 文件内容</span><br><span class="line">#4.码云后台创建新项目</span><br><span class="line">#5.配置本地全局的账号和密码</span><br><span class="line">  git config --global user.name &quot;dwbykst&quot;</span><br><span class="line">   git config --global user.email &quot;1491749434@qq.com&quot;</span><br><span class="line">#6.关联远程仓库</span><br><span class="line">  cd project</span><br><span class="line">  git remote add origin git@github.com:dwbskt/myvue.git</span><br><span class="line">  git push -u origin master</span><br></pre></td></tr></table></figure>

<h4 id="1-1-如果已经绑定则解除"><a href="#1-1-如果已经绑定则解除" class="headerlink" title="1.1 如果已经绑定则解除"></a>1.1 如果已经绑定则解除</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure>

<p>理解 ：在同一台电脑上的ssh只能绑定一个github ，之后再用git进行操作。</p>
<h3 id="2-上传步骤"><a href="#2-上传步骤" class="headerlink" title="2.上传步骤"></a>2.上传步骤</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	修改本地代码，再提交的步骤</span><br><span class="line"><span class="number">1</span>	修改代码</span><br><span class="line"><span class="number">2</span>	git add *     将修改的代码提交到暂存区</span><br><span class="line"><span class="number">3</span>	git commit -m “第一次提交”  将暂存区的代码提交到本地库</span><br><span class="line"><span class="number">4</span>	git push      将本地库的代码提交到远程服务器</span><br></pre></td></tr></table></figure>

<h3 id="3-错误-error"><a href="#3-错误-error" class="headerlink" title="3.错误 error"></a>3.错误 error</h3><p>vue项目 git提交失败 running pre-commit hook:lint-staged</p>
<p>那就是删除掉pre-commit hook，具体在项目文件夹.git\hooks目录下，找到文件pre-commit</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/16/特殊：前端问题持续更新/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/16/特殊：前端问题持续更新/" itemprop="url">特殊：前端问题持续更新</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-16T15:07:43+08:00">
                2019-11-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-函数的副作用"><a href="#1-函数的副作用" class="headerlink" title="1. 函数的副作用"></a>1. 函数的副作用</h3><p>vue 中的 setstate 会产生副作用 ， 佐证为 watch 监听时里面的属性的改变不会引发监听的事件。</p>
<p>函数的副作用的举例：</p>
<ol>
<li><p>纯函数的副作用 ， 通过函数直接改变obj中的属性值，会造成副作用</p>
</li>
<li><p>以下情况下没有副作用：通过函数的值改变 obj2 的值，再用 obj2 的值来替换 obj 的值 ，这样就不会造成函数的副作用 </p>
</li>
</ol>
<h3 id="2-函数式编程思想-待更新"><a href="#2-函数式编程思想-待更新" class="headerlink" title="2. 函数式编程思想(待更新)"></a>2. 函数式编程思想(待更新)</h3><p> React 16.7.0  ——&gt; React 16.8.0 (Hook)</p>
<p> Vue 2.0 ——&gt; Vue 3.0 ( Hook 、Proxy)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> vue中的 proxy代理  ，数据劫持的核心就是在代理对象的身上重新定义被代理对象的所有可枚举属性，并设置 getter 和 setter 监听着它的变化，然而实现这个功能就是一个方法：</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty() ，通过该方法在实例对象上重新定义了和data 对象里面所有的属性，然而就实现了数据劫持。</span><br></pre></td></tr></table></figure>

<h3 id="3-Tomcat服务器的搭建"><a href="#3-Tomcat服务器的搭建" class="headerlink" title="3. Tomcat服务器的搭建"></a>3. Tomcat服务器的搭建</h3><h5 id="（1）下载tomcat服务器"><a href="#（1）下载tomcat服务器" class="headerlink" title="（1）下载tomcat服务器"></a>（1）下载tomcat服务器</h5><p><a href="https://tomcat.apache.org/download-70.cgi" target="_blank" rel="noopener">https://tomcat.apache.org/download-70.cgi</a></p>
<h5 id="（2）下载java的jdk、安装"><a href="#（2）下载java的jdk、安装" class="headerlink" title="（2）下载java的jdk、安装"></a>（2）下载java的jdk、安装</h5><p>配置环境变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=C:\Java\jdk1.8.0_144</span><br><span class="line">classpath=.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\tools.jar</span><br><span class="line">PATH配置：;%JAVA_HOME%\bin;</span><br></pre></td></tr></table></figure>

<h5 id="（3）解压tomcat，修改里面的server-xml配置"><a href="#（3）解压tomcat，修改里面的server-xml配置" class="headerlink" title="（3）解压tomcat，修改里面的server.xml配置"></a>（3）解压tomcat，修改里面的server.xml配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">在apache-tomcat-7.0.96-windows-x64—&gt;apache-tomcat-7.0.96—&gt;conf 中</span><br><span class="line"></span><br><span class="line">修改如下的代码：</span><br><span class="line">&lt;Connector port = &quot;8090&quot; protocol:&quot;HTTP/1.1&quot;</span><br><span class="line">       connectionTimeout = &quot;20000&quot;</span><br><span class="line">       redirectPort = &quot;8843&quot; /&gt;</span><br></pre></td></tr></table></figure>

<h5 id="（4）启动-tomcat-服务器"><a href="#（4）启动-tomcat-服务器" class="headerlink" title="（4）启动 tomcat 服务器"></a>（4）启动 tomcat 服务器</h5><h3 id="4-node中注意的东西"><a href="#4-node中注意的东西" class="headerlink" title="4. node中注意的东西"></a>4. node中注意的东西</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">__filename : 包含文件名称的全路径</span><br><span class="line">__dirname : 文件所处的目录的绝对路径（不包含文件名称）</span><br><span class="line"></span><br><span class="line"><span class="comment">//在 node 中没有dom操作和 bom 操作的api ， 也就意味着window document 等对象在 node 中不可以使用 ， 可以使用如下：</span></span><br><span class="line">global.console.log(<span class="string">"aaa"</span>)</span><br><span class="line">global 就是 顶层对象</span><br><span class="line"></span><br><span class="line">process.argv  argv 是一个数组，默认情况下，前两项的数据分别是：Node.js环境的路径：当前执行的js文件的全路径 </span><br><span class="line"><span class="comment">// 从第三个参数开始表示命令行参数</span></span><br><span class="line">process.arch 就是系统的架构，<span class="number">64</span>位或者<span class="number">32</span>位</span><br></pre></td></tr></table></figure>

<h5 id="4-1-stat-和-fstat-的区别"><a href="#4-1-stat-和-fstat-的区别" class="headerlink" title="4.1 stat 和 fstat 的区别"></a>4.1 stat 和 fstat 的区别</h5><p>fs.stat 接收的第一个参数是一个文件路径字符串</p>
<p>fs.fstat接收的是一个文件描述符；</p>
<p>内核（kernel）利用文件描述符（file descriptor）来访问文件。文件描述符是非负整数。打开现存文件或新建文件时，内核会返回一个文件描述符。读写文件也需要使用文件描述符来指定待读写的文件</p>
<p>其它的Fs方法中和这种类似的也是这样的描述；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基于Promise的API的所有方法调用之后都会给我们返回一个promise，然后我们就可以使用.then</span></span><br><span class="line">fsPromises.stat(<span class="string">"./tt"</span>)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">    <span class="keyword">return</span> fsPromises.mkdir(<span class="string">"./tt"</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data)</span><br><span class="line">    <span class="keyword">return</span> fsPromises.writeFile(<span class="string">"./tt/bb.txt"</span>,<span class="string">"xxxxx你好"</span>);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="5-e-target-innerHTML"><a href="#5-e-target-innerHTML" class="headerlink" title="5. e.target.innerHTML"></a>5. e.target.innerHTML</h3><p>可以获取到 a 标签里的值，不是用value进行获取的。</p>
<h3 id="6-axios-原生的了解"><a href="#6-axios-原生的了解" class="headerlink" title="6.  axios 原生的了解"></a>6.  axios 原生的了解</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// always executed</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>params 的传递是根据对象的形式，在发送请求的时候要进行封装成对象的形式。</p>
<p>原生的 axios get请求的形式值得去了解一下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">'axios'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Make a request for a user with a given ID</span></span><br><span class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// handle success</span></span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// handle error</span></span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  .finally(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// always executed</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>友情链接： <a href="https://www.npmjs.com/package/axios?activeTab=readme" target="_blank" rel="noopener">https://www.npmjs.com/package/axios?activeTab=readme</a></p>
<h3 id="7-数组的-…-进行添加"><a href="#7-数组的-…-进行添加" class="headerlink" title="7. 数组的 … 进行添加"></a>7. 数组的 … 进行添加</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.array = [...cdata.message,...this.array]</span><br><span class="line"><span class="comment">//数组的叠加</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/15/7.vue项目整合问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/15/7.vue项目整合问题/" itemprop="url">七.vue项目整合问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-15T09:34:58+08:00">
                2019-11-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、vue项目整合中遇到的问题"><a href="#一、vue项目整合中遇到的问题" class="headerlink" title="一、vue项目整合中遇到的问题"></a>一、vue项目整合中遇到的问题</h3><h4 id="1-1-vuex中插件的使用"><a href="#1-1-vuex中插件的使用" class="headerlink" title="1.1 vuex中插件的使用"></a>1.1 vuex中插件的使用</h4><h5 id="1-1-2-插件的功能"><a href="#1-1-2-插件的功能" class="headerlink" title="1.1.2  插件的功能"></a>1.1.2  插件的功能</h5><p>插件通常用来为 Vue 添加全局功能。插件的功能范围没有严格的限制——一般有下面几种：</p>
<ol>
<li>添加全局方法或者属性。如: <a href="https://github.com/karol-f/vue-custom-element" target="_blank" rel="noopener">vue-custom-element</a></li>
<li>添加全局资源：指令/过滤器/过渡等。如 <a href="https://github.com/vuejs/vue-touch" target="_blank" rel="noopener">vue-touch</a></li>
<li>通过全局混入来添加一些组件选项。如 <a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener">vue-router</a></li>
<li>添加 Vue 实例方法，通过把它们添加到 <code>Vue.prototype</code> 上实现。</li>
<li>一个库，提供自己的 API，同时提供上面提到的一个或多个功能。如 <a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener">vue-router</a></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//vuex 状态持久化插件 —— vuex-persistedstate</span></span><br><span class="line"><span class="comment">//安装：</span></span><br><span class="line"></span><br><span class="line">　　npm install --save vuex-persistedstate</span><br><span class="line"></span><br><span class="line"><span class="comment">//引用：</span></span><br><span class="line"></span><br><span class="line">　　<span class="keyword">import</span> createPersistedState <span class="keyword">from</span> <span class="string">'vuex-persistedstate'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//配置：</span></span><br><span class="line"></span><br><span class="line">　　<span class="keyword">new</span> Vuex.Store(&#123;<span class="attr">plugins</span>: [createPersistedState()] &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//作用：</span></span><br><span class="line"></span><br><span class="line">　　将 vuex 状态保存到 localstorage 中</span><br></pre></td></tr></table></figure>

<h5 id="1-1-3-持久化插件优点"><a href="#1-1-3-持久化插件优点" class="headerlink" title="1.1.3 持久化插件优点"></a>1.1.3 持久化插件优点</h5><p>Vuex 解决了多视图之间的数据共享问题。但是运用过程中又带来了一个新的问题是，Vuex 的状态存储并不能持久化。也就是说当你存储在 Vuex 中的 store 里的数据，只要一刷新页面，数据就丢失了。</p>
<p>引入<a href="https://github.com/championswimmer/vuex-persist" target="_blank" rel="noopener">vuex-persist</a> 插件，它就是为 Vuex 持久化存储而生的一个插件。不需要你手动存取 storage ，而是直接将状态保存至 cookie 或者 localStorage 中</p>
<h4 id="1-2图片的懒加载"><a href="#1-2图片的懒加载" class="headerlink" title="1.2图片的懒加载"></a>1.2图片的懒加载</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;img v-lazy=<span class="string">"item.v_pic"</span>  /&gt;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">/*懒加载的样式*/</span></span><br><span class="line"> img[lazy=<span class="string">"loading"</span>] &#123;</span><br><span class="line">     width: <span class="number">40</span>px;</span><br><span class="line">     height: <span class="number">300</span>px;</span><br><span class="line">     margin: auto;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-3路由的返回设置"><a href="#1-3路由的返回设置" class="headerlink" title="1.3路由的返回设置"></a>1.3路由的返回设置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">reggoback()&#123;</span><br><span class="line">            <span class="keyword">this</span>.$router.go(<span class="number">-1</span>)</span><br><span class="line">            <span class="comment">//返回上一级的路由</span></span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>this.$router.go(val) =&gt; 在history记录中前进或者后退val步，当val为0时刷新当前页面。</li>
<li>this.$router.push(path) =&gt; 在history栈中添加一条新的记录。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/13/6.vue项目实战/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/13/6.vue项目实战/" itemprop="url">六.vue项目实战</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-13T08:50:01+08:00">
                2019-11-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-Vue项目"><a href="#1-Vue项目" class="headerlink" title="1.Vue项目"></a>1.Vue项目</h2><h3 id="1-1-初始阶段进行文档的编写"><a href="#1-1-初始阶段进行文档的编写" class="headerlink" title="1.1 初始阶段进行文档的编写"></a>1.1 初始阶段进行文档的编写</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">发布博客。以下的步骤： </span><br><span class="line">在本地博客文件夹根目录(git bash)输入：</span><br><span class="line">hexo <span class="keyword">new</span> <span class="string">"6.vue项目实战"</span> </span><br><span class="line">hexo g <span class="comment">//生成网页 </span></span><br><span class="line">hexo d <span class="comment">//部署到远端(github)</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-vue-cli使用"><a href="#1-2-vue-cli使用" class="headerlink" title="1.2 vue-cli使用"></a>1.2 vue-cli使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>npm install -g @vue/cli@<span class="number">3.9</span><span class="number">.1</span></span><br><span class="line"><span class="number">2.</span>将配置环境变量  C:\dev\nodejs</span><br><span class="line"><span class="number">3.</span>vue create project-name</span><br><span class="line"></span><br><span class="line"><span class="comment">//查看最终生效的 webpack 配置信息</span></span><br><span class="line">vue inspect &gt; output.js</span><br><span class="line"></span><br><span class="line"><span class="comment">//配置文件参考文档</span></span><br><span class="line">https:<span class="comment">//cli.vuejs.org/zh/config/#devserver-proxy</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//运行App</span></span><br><span class="line">npm run serve</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译App</span></span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure>

<h3 id="1-3-vue-cli-的创建使用选项"><a href="#1-3-vue-cli-的创建使用选项" class="headerlink" title="1.3 vue-cli 的创建使用选项"></a>1.3 vue-cli 的创建使用选项</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed <span class="keyword">for</span> your project: Babel, Router, Vuex, CSS Pre-processors, Linter        </span><br><span class="line">? Use history mode <span class="keyword">for</span> router? (Requires proper server setup <span class="keyword">for</span> index fallback <span class="keyword">in</span> production) No</span><br><span class="line">? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by <span class="keyword">default</span>): Less</span><br><span class="line">? Pick a linter / formatter config: Basic</span><br><span class="line">? Pick additional lint features: Lint and fix on commit</span><br><span class="line">? Where <span class="keyword">do</span> you prefer placing config <span class="keyword">for</span> Babel, PostCSS, ESLint, etc.? In dedicated config files</span><br><span class="line">? Save <span class="keyword">this</span> <span class="keyword">as</span> a preset <span class="keyword">for</span> future projects? No</span><br></pre></td></tr></table></figure>

<h3 id="1-4-将项目托管到-github"><a href="#1-4-将项目托管到-github" class="headerlink" title="1.4 将项目托管到 github"></a>1.4 将项目托管到 github</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#1.打开git brash，输入命令 ssh-keygen -t rsa -C "youremail@example.com"</span><br><span class="line">#2.找到用户主目录下的ssh文件夹，复制id_rsa.pub 文件内容</span><br><span class="line">#3.码云后台点击设置，ssh公钥，黏贴id_rsa.pub 文件内容</span><br><span class="line">#4.码云后台创建新项目</span><br><span class="line">#5.配置本地全局的账号和密码</span><br><span class="line">  git config --global user.name <span class="string">"shenhaieyu"</span></span><br><span class="line">  git config --global user.email <span class="string">"mazg1987@163.com"</span></span><br><span class="line">#6.关联远程仓库</span><br><span class="line">  cd project</span><br><span class="line">  git remote add origin git@gitee.com:shenhaieyu/zg-vuecms.git</span><br><span class="line">  git push -u origin master</span><br></pre></td></tr></table></figure>

<h3 id="1-5-严格模式的忽略"><a href="#1-5-严格模式的忽略" class="headerlink" title="1.5 严格模式的忽略"></a>1.5 严格模式的忽略</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mui.js?01c3:3440 Uncaught TypeError: &apos;caller&apos;, &apos;callee&apos;, and &apos;arguments&apos; properties may not be accessed on strict mode functions or the arguments objects for calls to them</span><br></pre></td></tr></table></figure>

<p>  ignore:[‘./lib/mui/js/mui.js’]</p>
<h3 id="1-6-vue中this-router-push-传参"><a href="#1-6-vue中this-router-push-传参" class="headerlink" title="1.6 vue中this.$router.push() 传参"></a>1.6 vue中this.$router.push() 传参</h3><h4 id="1-params-传参"><a href="#1-params-传参" class="headerlink" title="(1) .  params 传参"></a>(1) .  params 传参</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">注意：patams传参 ，路径不能使用path 只能使用name,不然获取不到传的数据</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$router.push(&#123;<span class="attr">name</span>: <span class="string">'dispatch'</span>, <span class="attr">params</span>: &#123;<span class="attr">paicheNo</span>: obj.paicheNo&#125;&#125;)</span><br><span class="line"></span><br><span class="line">取数据：<span class="keyword">this</span>.$route.params.paicheNo</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$route.params.paicheNo</span><br></pre></td></tr></table></figure>

<h4 id="2-query传参"><a href="#2-query传参" class="headerlink" title="(2) .  query传参"></a>(2) .  query传参</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(&#123;<span class="attr">path</span>: <span class="string">'/transport/dispatch'</span>, <span class="attr">query</span>: &#123;<span class="attr">paicheNo</span>: obj.paicheNo&#125;&#125;)</span><br><span class="line"></span><br><span class="line">取数据：<span class="keyword">this</span>.$route.query.paicheNo</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.$route.query.paicheNo</span><br></pre></td></tr></table></figure>

<h3 id="1-7-vuex的基本使用"><a href="#1-7-vuex的基本使用" class="headerlink" title="1.7 vuex的基本使用"></a>1.7 vuex的基本使用</h3><h4 id="1-基本的使用情况"><a href="#1-基本的使用情况" class="headerlink" title="(1). 基本的使用情况"></a>(1). 基本的使用情况</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  <span class="comment">//state用于存储数据</span></span><br><span class="line">  state: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//里面放的是方法,方法主要用于改变state里面的数据</span></span><br><span class="line">  mutations: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//方法,可以修改mutation</span></span><br><span class="line">  <span class="comment">//actions(方法 可以dispatch mutations)  actions中可以有异步操作    </span></span><br><span class="line">  actions: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//对外暴露数据,不修改vuex中的数据</span></span><br><span class="line">  getters: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.修改store中的数据  （参数1：是mutations的名字  参数2：传递给mutations的数据）</span></span><br><span class="line"> <span class="keyword">this</span>.$store.commit(<span class="string">"subtract"</span>,&#123;<span class="attr">num</span>:<span class="number">3</span>&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="2-vuex的缓存问题"><a href="#2-vuex的缓存问题" class="headerlink" title="(2). vuex的缓存问题"></a>(2). vuex的缓存问题</h4><p>vuex中数据在刷新网页的时候会丢失。解决思路：我们可以将 vuex 中的数据写到 localstorage 中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vuex-persistedstate </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//store.js </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> createPersistedState <span class="keyword">from</span> <span class="string">'vuex-persistedstate'</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    selected_card: &#123;&#125;, <span class="comment">//用户选择的银行卡</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    update_selected_card(state, payload) &#123;</span><br><span class="line">      state.selected_card = payload</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [createPersistedState()],</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="1-8-qs-stringify-、qs-parse-的使用"><a href="#1-8-qs-stringify-、qs-parse-的使用" class="headerlink" title="1.8 qs.stringify()、qs.parse()的使用"></a>1.8 qs.stringify()、qs.parse()的使用</h3><p>qs可通过<strong>npm install qs</strong>命令进行安装，是一个npm仓库所管理的包。</p>
<p>而qs.stringify()将对象 序列化成URL的形式，以&amp;进行拼接。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">name</span>:<span class="string">'hehe'</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;;</span><br><span class="line"> qs.stringify(a)</span><br><span class="line"><span class="comment">// 'name=hehe&amp;age=10'</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(a)</span><br><span class="line"><span class="comment">// '&#123;"name":"hehe","age":10&#125;'</span></span><br></pre></td></tr></table></figure>

<h3 id="1-9-发送的请求的不同的方法"><a href="#1-9-发送的请求的不同的方法" class="headerlink" title="1.9 发送的请求的不同的方法"></a>1.9 发送的请求的不同的方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line"><span class="keyword">import</span> QS <span class="keyword">from</span> <span class="string">'qs'</span>;</span><br><span class="line"><span class="comment">//设置超时时间</span></span><br><span class="line">axios.defaults.timeout = <span class="number">10000</span>;</span><br><span class="line"><span class="comment">// post请求头</span></span><br><span class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded;charset=UTF-8'</span>;</span><br><span class="line"></span><br><span class="line">axios.defaults.baseURL = <span class="string">"http://songshu.xiaomy.net/"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">myaxios</span>(<span class="params">method, url, params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (method == <span class="string">"GET"</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> axios.get(url, &#123; <span class="attr">params</span>: params &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method == <span class="string">"POST"</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> params = QS.stringify(params);</span><br><span class="line">        <span class="keyword">return</span> axios.post(url, params);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> myaxios(<span class="string">"POST"</span>, postusername, <span class="keyword">this</span>.obj)</span><br><span class="line">  .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">this</span>.userlist = data.data.message;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.userlist);</span><br><span class="line">       <span class="comment">// this.headimg = this.userlist.headimg_url;</span></span><br><span class="line">       <span class="keyword">this</span>.$store.commit(<span class="string">"imgurl"</span>,<span class="keyword">this</span>.headimg);</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.$store.getters.getimgurl,<span class="string">"22222"</span>);</span><br><span class="line">       <span class="keyword">this</span>.headimg = <span class="keyword">this</span>.$store.getters.getimgurl;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/11/5.vue项目的打包/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/11/5.vue项目的打包/" itemprop="url">五.项目的挂载服务器apache</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-11T09:52:18+08:00">
                2019-11-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-打包运行"><a href="#1-打包运行" class="headerlink" title="1. 打包运行"></a>1. 打包运行</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm run build </span><br><span class="line"><span class="comment">//注意在 mui, mui.css 中将所有的  svg  注释掉 , 否则就不会执行的</span></span><br><span class="line"><span class="comment">//需要注意的是我在</span></span><br><span class="line"><span class="comment">//E:\code\11.01\vueapp\node_modules\@intervolga\optimize-cssnano-plugin\index.js</span></span><br><span class="line"><span class="comment">//vueapp\node_modules\@intervolga\optimize-cssnano-plugin\index.js</span></span><br><span class="line"><span class="comment">//注释了105行到107行的代码</span></span><br><span class="line">  hasErrors = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'CSS minification error: '</span> + err.message +</span><br><span class="line">  <span class="string">'. File: '</span> + assetName);</span><br></pre></td></tr></table></figure>

<h3 id="2-打包后在dist中遇到跨域的问题"><a href="#2-打包后在dist中遇到跨域的问题" class="headerlink" title="2. 打包后在dist中遇到跨域的问题"></a>2. 打包后在dist中遇到跨域的问题</h3><p>一开始的跨域是用file的请求发送的</p>
<h3 id="3-Apache-服务器的搭建"><a href="#3-Apache-服务器的搭建" class="headerlink" title="3. Apache 服务器的搭建"></a>3. Apache 服务器的搭建</h3><h4 id="3-1-Apache的基础安装"><a href="#3-1-Apache的基础安装" class="headerlink" title="3.1 Apache的基础安装"></a>3.1 Apache的基础安装</h4><ol>
<li><p>解压  建议把解压后的文件拷贝到不带中文的路径下</p>
<p>httpd-2.4.35-win32-VC14.zip</p>
</li>
<li><p>打开解压后的Apache24目录，找到bin，打开cmd，输入httpd -t 命令，查看错误，如果是在win10 的环境下</p>
<p>直接使用不可以话，在命令行前面加上 ./</p>
</li>
<li><p>修改conf下httpd.conf配置文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">在 Apache24 中 conf 文件夹中改变 httpd.conf</span><br><span class="line"></span><br><span class="line"><span class="number">37</span> Define SRVROOT <span class="string">"D:/1-igeek 前端/tool/工具/Apache24"</span></span><br><span class="line"><span class="number">38</span> ServerRoot <span class="string">"D:/1-igeek 前端/tool/工具/Apache24"</span></span><br><span class="line"></span><br><span class="line">59 #Listen 12.34.56.78:80</span><br><span class="line"><span class="number">60</span> Listen <span class="number">8888</span></span><br><span class="line"></span><br><span class="line">225 #</span><br><span class="line"><span class="number">226</span> ServerName localhost:<span class="number">8888</span></span><br><span class="line"></span><br><span class="line"><span class="number">234</span> &lt;Directory /&gt;</span><br><span class="line">    AllowOverride none</span><br><span class="line">    #Require all denied</span><br><span class="line">    Options FollowSymLinks</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order deny,allow</span><br><span class="line">    Allow <span class="keyword">from</span> all</span><br><span class="line"><span class="number">241</span> &lt;<span class="regexp">/Directory&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">255 DocumentRoot "E:/</span><span class="number">1</span>-vueapp<span class="string">"</span></span><br><span class="line"><span class="string">256 &lt;Directory "</span>E:<span class="regexp">/1-vueapp"&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在E:/webapps(存放dist文件的文件夹)中准备一个index.html文件</p>
</li>
<li><p>​    输入对应的命令来注册apache服务</p>
<p># 安装 Apache 服务，‐n 参数是指定服务名称</p>
<p>$ httpd.exe -k install -n “Apache”</p>
<p># 如果需要卸载 Apache，可以执行以下命令</p>
<p>$ httpd.exe -k uninstall -n “Apache”</p>
<p>\2.       启动apache服务器</p>
<p>$ httpd.exe -k start -n “Apache”</p>
<p># 重新启动 Apache 服务</p>
<p>$ httpd.exe -k restart -n “Apache”</p>
<p># 停止 Apache 服务</p>
<p>$ httpd.exe -k stop -n “Apache”</p>
</li>
<li><p>在浏览器中输入localhost:8888查看是否有网页显示</p>
</li>
</ol>
<h4 id="3-2-配置Apache虚拟主机"><a href="#3-2-配置Apache虚拟主机" class="headerlink" title="3.2 配置Apache虚拟主机"></a>3.2 配置Apache虚拟主机</h4><p>1、修改httpd.conf配置文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Virtual hosts   //508</span><br><span class="line">Include conf/extra/httpd-vhosts.conf  <span class="comment">//509</span></span><br></pre></td></tr></table></figure>

<p>2.修改 vhost.conf 文件 （在conf—&gt;extra—&gt;httpd-vhosts文件中）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:<span class="number">8888</span>&gt; </span><br><span class="line">    DocumentRoot <span class="string">"E:/webapps1"</span></span><br><span class="line">    ServerName localhost</span><br><span class="line">	&lt;Directory <span class="string">"E:/webapps1"</span>&gt;</span><br><span class="line">		Options FollowSymLinks Indexes </span><br><span class="line">		AllowOverride none</span><br><span class="line">		Require all granted</span><br><span class="line">	&lt;<span class="regexp">/Directory&gt; </span></span><br><span class="line"><span class="regexp">&lt;/</span>VirtualHost&gt;</span><br><span class="line">解决项目发布之后的跨域问题</span><br><span class="line">配置反向代理：</span><br><span class="line"><span class="number">1</span>、httpd.conf配置文件</span><br><span class="line"> </span><br><span class="line"><span class="number">2</span>、httpd-vhosts.conf配置</span><br><span class="line">&lt;VirtualHost *:<span class="number">8888</span>&gt;</span><br><span class="line">    #绑定域名</span><br><span class="line">    ServerName localhost</span><br><span class="line">    #默认首页</span><br><span class="line">    DirectoryIndex index.html index.php</span><br><span class="line">    #指定网站根目录</span><br><span class="line">    DocumentRoot <span class="string">"E:/webapps1"</span></span><br><span class="line">    #指定目录分配权限</span><br><span class="line">    &lt;Directory <span class="string">"E:/webapps1"</span>&gt;</span><br><span class="line">        #没有首页就显示列表（开发阶段可以这样）取值：all none Index</span><br><span class="line">        Options Indexes</span><br><span class="line">        #规定Deny,Allow的执行顺序, Order Deny,Allow ： 先执行Deny，再执行Allow</span><br><span class="line">        Order Deny,Allow</span><br><span class="line">        #全部禁止访问 取值：all none 指定ip</span><br><span class="line">        Allow <span class="keyword">from</span> All</span><br><span class="line">        #但是，允许自己访问  取值：all none 指定ip</span><br><span class="line">        Allow <span class="keyword">from</span> all</span><br><span class="line">    &lt;<span class="regexp">/Directory&gt;</span></span><br><span class="line"><span class="regexp">	Proxyrequests off</span></span><br><span class="line"><span class="regexp">	&lt;Proxy *&gt;</span></span><br><span class="line"><span class="regexp">		#规定Deny,Allow的执行顺序, Order Deny,Allow ： 先执行Deny，再执行Allow</span></span><br><span class="line"><span class="regexp">        Order Deny,Allow</span></span><br><span class="line"><span class="regexp">        #全部禁止访问 取值：all none 指定ip</span></span><br><span class="line"><span class="regexp">        Allow from All</span></span><br><span class="line"><span class="regexp">	&lt;/</span><span class="built_in">Proxy</span>&gt;</span><br><span class="line">        #配置反向代理</span><br><span class="line">		ProxyPass /api http:<span class="comment">//192.168.23.200:8899/api</span></span><br><span class="line">&lt;<span class="regexp">/VirtualHost&gt;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/3、打开浏览器就可以访问网站了</span></span><br></pre></td></tr></table></figure>

<h4 id="3-3-开启apache服务器的gzip压缩："><a href="#3-3-开启apache服务器的gzip压缩：" class="headerlink" title="3.3  开启apache服务器的gzip压缩："></a>3.3  开启apache服务器的gzip压缩：</h4><p>1.打开 httpd.conf配置文件中下面两个模块的注释</p>
<p>#LoadModule deflate_module modules/mod_deflate.so</p>
<p>#LoadModule headers_module modules/mod_headers.so</p>
<p>2.在httpd.conf配置文件最下面添加</p>
<ifmodule deflate_module>

<p>​    SetOutputFilter DEFLATE</p>
<p>​    DeflateCompressionLevel 9</p>
</ifmodule>

<h3 id="4-需要注意的一些代理的问题"><a href="#4-需要注意的一些代理的问题" class="headerlink" title="4. 需要注意的一些代理的问题"></a>4. 需要注意的一些代理的问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在 main.js 中如下：</span><br><span class="line"><span class="comment">//打包成apk的时候需要打开的</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">"http://47.103.222.56:8899"</span>;</span><br></pre></td></tr></table></figure>

<h5 id="4-1-需要在-vue-config-js-中配置代理"><a href="#4-1-需要在-vue-config-js-中配置代理" class="headerlink" title="4.1 需要在  vue.config.js 中配置代理"></a>4.1 需要在  vue.config.js 中配置代理</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">           <span class="comment">//凡是请求以api开头的都会使用下面的代理服务器</span></span><br><span class="line">           <span class="string">'/api/*'</span>: &#123;</span><br><span class="line">               <span class="comment">// target: 'http://bc421114.ngrok.io/',</span></span><br><span class="line">               target: <span class="string">'http://47.103.222.56/'</span>, <span class="comment">// 目标服务器地址</span></span><br><span class="line">               secure: <span class="literal">false</span>,                    <span class="comment">// 目标服务器地址是否是安全协议</span></span><br><span class="line">               changeOrigin: <span class="literal">true</span>,               <span class="comment">// 是否修改来源, 为true时会让目标服务器以为是webpack-dev-server发出的请求!服务端和服务端的请求是没有跨域的</span></span><br><span class="line">               <span class="comment">//pathRewrite: &#123;'^/api': '/a'&#125;     // 将/api开头的请求地址, /api 改为 /, 即 /api/xx 改为 /xx</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-2-在Apache中配置方向代理"><a href="#4-2-在Apache中配置方向代理" class="headerlink" title="4.2 在Apache中配置方向代理"></a>4.2 在Apache中配置方向代理</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:<span class="number">8888</span>&gt; </span><br><span class="line">    DocumentRoot <span class="string">"E:/1-vueapp"</span></span><br><span class="line">    ServerName localhost</span><br><span class="line">	&lt;Directory <span class="string">"E:/1-vueapp"</span>&gt;</span><br><span class="line">		Options FollowSymLinks Indexes </span><br><span class="line">		AllowOverride none</span><br><span class="line">		Require all granted</span><br><span class="line">	&lt;<span class="regexp">/Directory&gt;</span></span><br><span class="line"><span class="regexp">	Proxyrequests off</span></span><br><span class="line"><span class="regexp">	&lt;Proxy *&gt;</span></span><br><span class="line"><span class="regexp">		#规定Deny,Allow的执行顺序, Order Deny,Allow ： 先执行Deny，再执行Allow</span></span><br><span class="line"><span class="regexp">        Order Deny,Allow</span></span><br><span class="line"><span class="regexp">        #全部禁止访问 取值：all none 指定ip</span></span><br><span class="line"><span class="regexp">        Allow from All</span></span><br><span class="line"><span class="regexp">	&lt;/</span><span class="built_in">Proxy</span>&gt;</span><br><span class="line">        #配置反向代理</span><br><span class="line">		ProxyPass /api http:<span class="comment">//47.103.222.56:8899/api</span></span><br><span class="line">&lt;<span class="regexp">/VirtualHost&gt;</span></span><br></pre></td></tr></table></figure>

<p>在服务器的后台代码中 ，我们注意的是，开放所有的监听的端口为 0.0.0.0</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/25/4.vue中的切换动画/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/25/4.vue中的切换动画/" itemprop="url">四. Vue中的切换动画</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-25T14:40:13+08:00">
                2019-09-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-动画的控制以及切换"><a href="#1-动画的控制以及切换" class="headerlink" title="1. 动画的控制以及切换"></a>1. 动画的控制以及切换</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;mt-header fixed title=<span class="string">"松鼠商城"</span>&gt;</span><br><span class="line">     &lt;a href=<span class="string">"#"</span> v-<span class="keyword">if</span>=<span class="string">"flag"</span> slot=<span class="string">"left"</span>&gt;</span><br><span class="line">       &lt;mt-button icon=<span class="string">"back"</span> @click=<span class="string">"goBack"</span>&gt;返回&lt;<span class="regexp">/mt-button&gt;</span></span><br><span class="line"><span class="regexp">     &lt;/</span>a&gt;</span><br><span class="line">   &lt;<span class="regexp">/mt-header&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    <span class="comment">//控制返回按钮是否需要显示的</span></span><br><span class="line">    <span class="string">"$route.path"</span>: <span class="function"><span class="keyword">function</span>(<span class="params">newVal, oldVal</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        newVal == <span class="string">"/"</span> ||</span><br><span class="line">        newVal == <span class="string">"/member"</span> ||</span><br><span class="line">        newVal == <span class="string">"/cart"</span> ||</span><br><span class="line">        newVal == <span class="string">"/search"</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//监听路由变化,控制动画的</span></span><br><span class="line">    $route(to, <span class="keyword">from</span>) &#123;</span><br><span class="line">      <span class="comment">//定义一个数组，用来规定在什么时候不需要动画的切换</span></span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="string">"/"</span>, <span class="string">"/mumber"</span>, <span class="string">"/cart"</span>, <span class="string">"/search"</span>];</span><br><span class="line">      <span class="keyword">let</span> isBack = <span class="keyword">this</span>.isBack;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//如果用户点击了返回按钮，此时用slide-right动画</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.isBack == <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.transitionName = <span class="string">"slide-right"</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//如果用户没有点击返回按钮</span></span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//当路由的出发点和目标点在arr数组中，此时不需要动画</span></span><br><span class="line">        <span class="keyword">if</span> (arr.includes(to.path) &amp;&amp; arr.includes(<span class="keyword">from</span>.path)) &#123;</span><br><span class="line">          <span class="keyword">this</span>.transitionName = <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//当路由不是在'/','/member','/cart','/search' 这些之间跳转的时候，需要slide-left动画</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.transitionName = <span class="string">"slide-left"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//重置动画的默认状态</span></span><br><span class="line">      <span class="keyword">this</span>.isBack = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    <span class="comment">//当我们点击返回按钮的时候，修改isBack为true</span></span><br><span class="line">    goBack() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isBack = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-路由的懒加载"><a href="#2-路由的懒加载" class="headerlink" title="2. 路由的懒加载"></a>2. 路由的懒加载</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/Home.vue'</span>)</span><br><span class="line"><span class="keyword">const</span> Member = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/Member.vue'</span>)</span><br><span class="line"><span class="keyword">const</span> Cart = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/Cart.vue'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可以发现变化如下：</span></span><br><span class="line"><span class="comment">//1.打包后的bundle.js文件体积小了</span></span><br><span class="line"><span class="comment">//2.只有打开某个路由之后才会执行该路由对应的组件中的js代码</span></span><br></pre></td></tr></table></figure>

<h3 id="3-按需加载-vue-cli中的按需导入"><a href="#3-按需加载-vue-cli中的按需导入" class="headerlink" title="3. 按需加载 vue/cli中的按需导入"></a>3. 按需加载 vue/cli中的按需导入</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">在使用vue/cli脚手架的项目中要实现按需导入：</span><br><span class="line"><span class="number">1.</span>删除babel.config.js文件</span><br><span class="line"><span class="number">2.</span>在项目根目录下创建.babelrc文件</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>: [<span class="string">"@vue/app"</span>, [<span class="string">"@babel/preset-env"</span>, &#123; <span class="string">"modules"</span>: <span class="literal">false</span> &#125;]],</span><br><span class="line">    <span class="string">"plugins"</span>: [</span><br><span class="line">      [</span><br><span class="line">        <span class="string">"component"</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"libraryName"</span>: <span class="string">"mint-ui"</span>,</span><br><span class="line">            <span class="string">"style"</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3.</span>安装  npm install babel-plugin-component -D  插件</span><br></pre></td></tr></table></figure>

<h3 id="4-移动端的适配问题"><a href="#4-移动端的适配问题" class="headerlink" title="4. 移动端的适配问题"></a>4. 移动端的适配问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装flexible。 flexible主要是实现在各种不同的移动端界面实现一稿搞定所有的设备兼容自适应问题</span></span><br><span class="line">npm install lib-flexible --save</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.main.js引入flexible</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'lib-flexible'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//此时运行程序会看到html中自动加上了font-size    font-size的默认值为viewport的十分之一</span></span><br><span class="line"><span class="comment">//在页面中引入flexible.js后，flexible会在&lt;html&gt;标签上增加一个data-dpr属性和font-size样式（如下图）。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装postcss-pxtorem</span></span><br><span class="line">npm install postcss-pxtorem --save-dev</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.修改postcss.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: &#123;</span><br><span class="line">    <span class="comment">//autoprefixer 自动补全css前缀的东西</span></span><br><span class="line">    <span class="string">'autoprefixer'</span>: &#123;</span><br><span class="line">      <span class="comment">//兼容的机型</span></span><br><span class="line">      browsers: [<span class="string">'Android &gt;= 4.0'</span>, <span class="string">'iOS &gt;= 7'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'postcss-pxtorem'</span>: &#123;</span><br><span class="line">      rootValue: <span class="number">37.5</span>, <span class="comment">//换算基数，一般和html的font-size一致</span></span><br><span class="line">      propList: [<span class="string">'*'</span>]  <span class="comment">//哪些css属性需要换算</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 以37.5位基准,如下图的1.6rem 就是 60px</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mui-grid-view.mui-grid<span class="number">-9</span> img[data-v-fae5bece] &#123;</span><br><span class="line"></span><br><span class="line">    width: <span class="number">1.6</span>rem;</span><br><span class="line">    height: <span class="number">1.6</span>rem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-断点的调试"><a href="#5-断点的调试" class="headerlink" title="5. 断点的调试"></a>5. 断点的调试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">config.devtool = &apos;#cheap-module-eval-source-map&apos;</span><br><span class="line">再在需要的地方加上 debugger</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/17/3.vue中的结尾调试/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/17/3.vue中的结尾调试/" itemprop="url">三. Vue项目中的结尾调试</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-17T14:40:13+08:00">
                2019-08-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-动画的控制以及切换"><a href="#1-动画的控制以及切换" class="headerlink" title="1. 动画的控制以及切换"></a>1. 动画的控制以及切换</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;mt-header fixed title=<span class="string">"松鼠商城"</span>&gt;</span><br><span class="line">     &lt;a href=<span class="string">"#"</span> v-<span class="keyword">if</span>=<span class="string">"flag"</span> slot=<span class="string">"left"</span>&gt;</span><br><span class="line">       &lt;mt-button icon=<span class="string">"back"</span> @click=<span class="string">"goBack"</span>&gt;返回&lt;<span class="regexp">/mt-button&gt;</span></span><br><span class="line"><span class="regexp">     &lt;/</span>a&gt;</span><br><span class="line">   &lt;<span class="regexp">/mt-header&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    <span class="comment">//控制返回按钮是否需要显示的</span></span><br><span class="line">    <span class="string">"$route.path"</span>: <span class="function"><span class="keyword">function</span>(<span class="params">newVal, oldVal</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        newVal == <span class="string">"/"</span> ||</span><br><span class="line">        newVal == <span class="string">"/member"</span> ||</span><br><span class="line">        newVal == <span class="string">"/cart"</span> ||</span><br><span class="line">        newVal == <span class="string">"/search"</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = <span class="literal">false</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.flag = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//监听路由变化,控制动画的</span></span><br><span class="line">    $route(to, <span class="keyword">from</span>) &#123;</span><br><span class="line">      <span class="comment">//定义一个数组，用来规定在什么时候不需要动画的切换</span></span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="string">"/"</span>, <span class="string">"/mumber"</span>, <span class="string">"/cart"</span>, <span class="string">"/search"</span>];</span><br><span class="line">      <span class="keyword">let</span> isBack = <span class="keyword">this</span>.isBack;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//如果用户点击了返回按钮，此时用slide-right动画</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.isBack == <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.transitionName = <span class="string">"slide-right"</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//如果用户没有点击返回按钮</span></span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//当路由的出发点和目标点在arr数组中，此时不需要动画</span></span><br><span class="line">        <span class="keyword">if</span> (arr.includes(to.path) &amp;&amp; arr.includes(<span class="keyword">from</span>.path)) &#123;</span><br><span class="line">          <span class="keyword">this</span>.transitionName = <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//当路由不是在'/','/member','/cart','/search' 这些之间跳转的时候，需要slide-left动画</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.transitionName = <span class="string">"slide-left"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//重置动画的默认状态</span></span><br><span class="line">      <span class="keyword">this</span>.isBack = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    <span class="comment">//当我们点击返回按钮的时候，修改isBack为true</span></span><br><span class="line">    goBack() &#123;</span><br><span class="line">      <span class="keyword">this</span>.isBack = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-路由的懒加载"><a href="#2-路由的懒加载" class="headerlink" title="2. 路由的懒加载"></a>2. 路由的懒加载</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/Home.vue'</span>)</span><br><span class="line"><span class="keyword">const</span> Member = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/Member.vue'</span>)</span><br><span class="line"><span class="keyword">const</span> Cart = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./views/Cart.vue'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//可以发现变化如下：</span></span><br><span class="line"><span class="comment">//1.打包后的bundle.js文件体积小了</span></span><br><span class="line"><span class="comment">//2.只有打开某个路由之后才会执行该路由对应的组件中的js代码</span></span><br></pre></td></tr></table></figure>

<h3 id="3-按需加载-vue-cli中的按需导入"><a href="#3-按需加载-vue-cli中的按需导入" class="headerlink" title="3. 按需加载 vue/cli中的按需导入"></a>3. 按需加载 vue/cli中的按需导入</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">在使用vue/cli脚手架的项目中要实现按需导入：</span><br><span class="line"><span class="number">1.</span>删除babel.config.js文件</span><br><span class="line"><span class="number">2.</span>在项目根目录下创建.babelrc文件</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>: [<span class="string">"@vue/app"</span>, [<span class="string">"@babel/preset-env"</span>, &#123; <span class="string">"modules"</span>: <span class="literal">false</span> &#125;]],</span><br><span class="line">    <span class="string">"plugins"</span>: [</span><br><span class="line">      [</span><br><span class="line">        <span class="string">"component"</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"libraryName"</span>: <span class="string">"mint-ui"</span>,</span><br><span class="line">            <span class="string">"style"</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3.</span>安装  npm install babel-plugin-component -D  插件</span><br></pre></td></tr></table></figure>

<h3 id="4-移动端的适配问题"><a href="#4-移动端的适配问题" class="headerlink" title="4. 移动端的适配问题"></a>4. 移动端的适配问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装flexible。 flexible主要是实现在各种不同的移动端界面实现一稿搞定所有的设备兼容自适应问题</span></span><br><span class="line">npm install lib-flexible --save</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.main.js引入flexible</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'lib-flexible'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//此时运行程序会看到html中自动加上了font-size    font-size的默认值为viewport的十分之一</span></span><br><span class="line"><span class="comment">//在页面中引入flexible.js后，flexible会在&lt;html&gt;标签上增加一个data-dpr属性和font-size样式（如下图）。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装postcss-pxtorem</span></span><br><span class="line">npm install postcss-pxtorem --save-dev</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.修改postcss.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: &#123;</span><br><span class="line">    <span class="comment">//autoprefixer 自动补全css前缀的东西</span></span><br><span class="line">    <span class="string">'autoprefixer'</span>: &#123;</span><br><span class="line">      <span class="comment">//兼容的机型</span></span><br><span class="line">      browsers: [<span class="string">'Android &gt;= 4.0'</span>, <span class="string">'iOS &gt;= 7'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'postcss-pxtorem'</span>: &#123;</span><br><span class="line">      rootValue: <span class="number">37.5</span>, <span class="comment">//换算基数，一般和html的font-size一致</span></span><br><span class="line">      propList: [<span class="string">'*'</span>]  <span class="comment">//哪些css属性需要换算</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 以37.5位基准,如下图的1.6rem 就是 60px</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mui-grid-view.mui-grid<span class="number">-9</span> img[data-v-fae5bece] &#123;</span><br><span class="line"></span><br><span class="line">    width: <span class="number">1.6</span>rem;</span><br><span class="line">    height: <span class="number">1.6</span>rem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-断点的调试"><a href="#5-断点的调试" class="headerlink" title="5. 断点的调试"></a>5. 断点的调试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">config.devtool = &apos;#cheap-module-eval-source-map&apos;</span><br><span class="line">再在需要的地方加上 debugger</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/15/2.git遇到remote orgin问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/15/2.git遇到remote orgin问题/" itemprop="url">二. git中遇到remote origin already exists</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-06-15T09:16:08+08:00">
                2019-06-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>PS E:\code\11.01\vueapp&gt; git remote add origin git@github.com:YeeeYe/vue.git</code><br><code>fatal: remote origin already exists.</code><br><code>PS E:\code\11.01\vueapp&gt; git remote rm origin</code><br><code>PS E:\code\11.01\vueapp&gt; git remote add origin git@github.com:YeeeYe/vue.git</code><br><code>PS E:\code\11.01\vueapp&gt; git push -u origin master</code></p>
<p>注意在git 中遇到问题，fatal: remote origin already exists.</p>
<p>直接输入 git remote rm origin 即可，</p>
<p>再输入git remote add origin <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:YeeeYe/vue.git  关联</p>
<p>最后上传：git push -u origin master</p>
<p>​    </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Dong Wenbin</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dong Wenbin</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
