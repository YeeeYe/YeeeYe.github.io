<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="DWBBlog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="DWBBlog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DWBBlog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>DWBBlog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">DWBBlog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/07/23-react-native/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/07/23-react-native/" itemprop="url">23.react-native</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-07T16:39:12+08:00">
                2019-12-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-App开发模式介绍"><a href="#1-App开发模式介绍" class="headerlink" title="1.App开发模式介绍"></a>1.App开发模式介绍</h2><p>Web App ： 用html+css+js写的网页程序</p>
<p>混合式App开发：（HybirdApp）就是使用前端已有的技术，HTML + CSS + JS ，然后再搭配一些相关的打包编译技术，就能够开发出一个手机App，安装到手机中进行使用。</p>
<p>原生(native app)App：使用IOS、Android 官方提供的工具、开发平台、配套语言进行手机App开发的方式</p>
<p><img src="/2019/12/07/23-react-native/1.png" alt="BP"></p>
<p><img src="/2019/12/07/23-react-native/2.png" alt="BP"></p>
<h2 id="2-hybird开发技术选型"><a href="#2-hybird开发技术选型" class="headerlink" title="2.hybird开发技术选型"></a>2.hybird开发技术选型</h2><p>Vue.js 和 Weex</p>
<p>React.js 和 React-Native </p>
<p>Angular.js 和 Ionic</p>
<p>Html5+ ：把html+css+js开发web应用打包成apk</p>
<img src="/2019/12/07/23-react-native/3.png" alt="BP" style="zoom: 150%;">

<h2 id="3-安卓环境配置"><a href="#3-安卓环境配置" class="headerlink" title="3.安卓环境配置"></a>3.安卓环境配置</h2><h5 id="1-安装java-jdk"><a href="#1-安装java-jdk" class="headerlink" title="1.安装java jdk"></a>1.安装java jdk</h5><p>​    A) 修改环境变量，新增<code>JAVA_HOME</code>的系统环境变量，值为<code>C:\Program Files (x86)\Java\jdk1.8.0_112</code>，也就是安装JDK的根目录</p>
<p>   B) 修改系统环境变量<code>Path</code>，在<code>Path</code>之后新增<code>%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;</code></p>
<p>   C) 新建<strong>系统环境变量</strong><code>CLASSPATH</code>，值为<code>.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code></p>
<p>   D) 保存所有的系统环境变量，同时退出系统环境变量配置窗口，然后运行cmd命令行工具，输入<code>javac</code>，如果能出现javac的命令选项，就表示配置成功！</p>
<p>注意：在win10 的环境下可以将相对路径换成绝对路径</p>
<p>classpath：</p>
<p><img src="/2019/12/07/23-react-native/4.png" alt="BP"></p>
<p>path：</p>
<p><img src="/2019/12/07/23-react-native/5.png" alt="BP"></p>
<h5 id="2-安装Node-js"><a href="#2-安装Node-js" class="headerlink" title="2.安装Node.js"></a>2.安装Node.js</h5><h5 id="3-安装Git环境"><a href="#3-安装Git环境" class="headerlink" title="3.安装Git环境"></a>3.安装Git环境</h5><h5 id="4-安装python2环境"><a href="#4-安装python2环境" class="headerlink" title="4.安装python2环境"></a>4.安装python2环境</h5><h5 id="5-将android压缩包解压之后放到c盘根目录"><a href="#5-将android压缩包解压之后放到c盘根目录" class="headerlink" title="5.将android压缩包解压之后放到c盘根目录"></a>5.将android压缩包解压之后放到c盘根目录</h5><p>A) 在系统环境变量中新建<code>ANDROID_HOME</code>，值为android SDK Manager的安装路径<code>C:\android</code></p>
<p>B) 紧接着，在Path中新增<code>;%ANDROID_HOME%\tools;%ANDROID_HOME%\platform-tools;</code></p>
<p>注意：win10 如上图path的最后的写法</p>
<h5 id="6-（非必须）模拟器"><a href="#6-（非必须）模拟器" class="headerlink" title="6.（非必须）模拟器"></a>6.（非必须）模拟器</h5><p>A) 将C:\android\platform-tools\adb.exe拷贝一份，重命名为nox_adb.exe，替换掉D:\Program Files\Nox\bin下的nox_adb.exe文件</p>
<p>B) 打开夜神模拟器</p>
<p>C) 连接夜神模拟器  adb connect 127.0.0.1:62001   /  adb disconnect 127.0.0.1:62001</p>
<p>D) 查看安卓连接设备  adb devices</p>
<p>E) 配置夜神模拟器  375*667   dpi:163</p>
<h5 id="7-安装yarn和react-native-cli"><a href="#7-安装yarn和react-native-cli" class="headerlink" title="7.安装yarn和react-native-cli"></a>7.安装yarn和react-native-cli</h5><p>npm install -g yarn react-native-cli</p>
<p>设置下载源：</p>
<p>yarn config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a> –global </p>
<p>yarn config set disturl <a href="https://npm.taobao.org/dist" target="_blank" rel="noopener">https://npm.taobao.org/dist</a> –global</p>
<h5 id="8-react-native-init"><a href="#8-react-native-init" class="headerlink" title="8.react-native-init"></a>8.react-native-init</h5><p>通过react-native-init命令创建一个App (注意项目不要放在中文路径下)</p>
<h5 id="9-react-native-run-android"><a href="#9-react-native-run-android" class="headerlink" title="9.react-native run-android"></a>9.react-native run-android</h5><p>进入testRN目录，通过npx<br>react-native run-android命令来运行项目</p>
<h5 id="10-问题"><a href="#10-问题" class="headerlink" title="10.问题"></a>10.问题</h5><p><img src="/2019/12/07/23-react-native/6.png" alt="BP"></p>
<p>A)       在android/app/src/main下新建assets文件夹</p>
<p>B)       在项目根目录下输入如下命令：</p>
<p>react-native bundle –platform android –dev false –entry-file index.js –bundle-output android/app/src/main/assets/index.android.bundle –assets-dest android/app/src/main/res</p>
<p><img src="/2019/12/07/23-react-native/7.png" alt="BP"></p>
<p>C)      重新使用 react-native run-android 来启动项目</p>
<h5 id="11-热更新解决端口被占用的问题"><a href="#11-热更新解决端口被占用的问题" class="headerlink" title="11.热更新解决端口被占用的问题"></a>11.热更新解决端口被占用的问题</h5><p>A) netstat -ano | findstr “8081”</p>
<p>B) tasklist|findstr “pid”   如果结果显示 java.exe，则说明8081端口被占用了</p>
<p>C) react-native  run-android 把项目安装到夜神模拟器</p>
<p>D)关闭以下窗口，然后通过react-native start –port  9999 重新打开服务端口</p>
<p><img src="/2019/12/07/23-react-native/8.png" alt="BP"></p>
<p>E) 打开夜神模拟器，打开app，摇一摇</p>
<p><img src="/2019/12/07/23-react-native/9.png" alt="BP"></p>
<p>F) 打开夜神模拟器，摇一摇</p>
<p><img src="/2019/12/07/23-react-native/10.png" alt="BP"></p>
<h2 id="4-RN基础组件"><a href="#4-RN基础组件" class="headerlink" title="4.RN基础组件"></a>4.RN基础组件</h2><p>View     —&gt;视图    </p>
<p>Text      —&gt;文本</p>
<p>Image    —&gt;图片</p>
<p>TextInput —&gt;文本输入框</p>
<p>ScrollView —&gt;滚动视图</p>
<p>StyleSheet —&gt;创建样式 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Sample React Native App</span></span><br><span class="line"><span class="comment"> * https://github.com/facebook/react-native</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @format</span></span><br><span class="line"><span class="comment"> * @flow</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 1.首先在开头导入所需要的组件的名称</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  SafeAreaView,</span><br><span class="line">  StyleSheet,</span><br><span class="line">  ScrollView,</span><br><span class="line">  View,</span><br><span class="line">  Text,</span><br><span class="line">  StatusBar,</span><br><span class="line">  Image,</span><br><span class="line">  TextInput</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.在App中定义所有的函数和变量的值</span></span><br><span class="line"><span class="keyword">const</span> App: <span class="function"><span class="params">()</span> =&gt;</span> React$Node = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, onChangeText] = React.useState(<span class="string">'Useless Placeholder'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> pic = &#123;</span><br><span class="line">    uri: <span class="string">'https://upload.wikimedia.org/wikipedia/commons/d/de/Bananavarieties.jpg'</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.在return中返回需要映射的组件</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;ScrollView&gt;</span><br><span class="line">          &lt;Text&gt;这是View&lt;<span class="regexp">/Text&gt;</span></span><br><span class="line"><span class="regexp">          &lt;View style=&#123;styles.box&#125;&gt;&lt;/</span>View&gt;</span><br><span class="line">          &lt;View style=&#123;&#123;<span class="attr">width</span>:<span class="number">100</span>,<span class="attr">height</span>:<span class="number">100</span>,<span class="attr">backgroundColor</span>:<span class="string">'blue'</span>&#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">          &lt;Image source=&#123;pic&#125; style=&#123;&#123; <span class="attr">width</span>: <span class="number">193</span>, <span class="attr">height</span>: <span class="number">110</span> &#125;&#125; /&gt;</span><br><span class="line">          &lt;Image source=&#123;<span class="built_in">require</span>(<span class="string">'./images/1.png'</span>)&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span></span><br><span class="line">          &lt;TextInput</span><br><span class="line">            style=&#123;&#123; <span class="attr">height</span>: <span class="number">40</span>, <span class="attr">borderColor</span>: <span class="string">'red'</span>, <span class="attr">borderWidth</span>: <span class="number">1</span> &#125;&#125;</span><br><span class="line">            onChangeText=&#123;text =&gt; onChangeText(text)&#125;</span><br><span class="line">            value=&#123;value&#125;</span><br><span class="line">          /&gt;</span><br><span class="line">      &lt;<span class="regexp">/ScrollView&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> styles = StyleSheet.create(&#123;</span><br><span class="line">  box:&#123;</span><br><span class="line">    width:<span class="number">300</span>,</span><br><span class="line">    height:<span class="number">200</span>,</span><br><span class="line">    borderColor:<span class="string">'yellow'</span>,</span><br><span class="line">    borderWidth:<span class="number">2</span>,</span><br><span class="line">    borderStyle:<span class="string">"solid"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>

<h2 id="5-交互组件"><a href="#5-交互组件" class="headerlink" title="5.交互组件"></a>5.交互组件</h2><p>Button —&gt;按钮</p>
<p>Picker  —&gt;选择视图</p>
<p>Switch —&gt;开关</p>
<p>Slider  —&gt;滑块</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button</span><br><span class="line">          onPress=&#123;onPressLearnMore&#125;</span><br><span class="line">          title=<span class="string">"Learn More"</span></span><br><span class="line">          color=<span class="string">"#841584"</span></span><br><span class="line">        /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Picker</span><br><span class="line">          selectedValue=&#123;language&#125;</span><br><span class="line">          style=&#123;&#123; <span class="attr">height</span>: <span class="number">50</span>, <span class="attr">width</span>: <span class="number">100</span> &#125;&#125;</span><br><span class="line">          onValueChange=&#123;(itemValue, itemIndex) =&gt;</span><br><span class="line">            onChangeLanaguage(itemValue)</span><br><span class="line">          &#125;&gt;</span><br><span class="line">          &lt;Picker.Item label=<span class="string">"Java"</span> value=<span class="string">"java"</span> /&gt;</span><br><span class="line">          &lt;Picker.Item label=<span class="string">"JavaScript"</span> value=<span class="string">"js"</span> /&gt;</span><br><span class="line">        &lt;<span class="regexp">/Picker&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &lt;Slider maximumValue=&#123;100&#125; minimumValue=&#123;0&#125; onValueChange=&#123;(value) =&gt; console.log(value)&#125; step=&#123;2&#125; value=&#123;50&#125;&gt;&lt;/</span>Slider&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Switch value=&#123;switchStatus&#125; onValueChange=&#123;(value) =&gt; &#123; onChangeswitchStatus(value) &#125;&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [switchStatus, onChangeswitchStatus] = React.useState(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">const</span> [language, onChangeLanaguage] = React.useState(<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> onPressLearnMore = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"xxx"</span>)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-列表组件"><a href="#6-列表组件" class="headerlink" title="6.   列表组件"></a>6.   列表组件</h2><p>FlatList  : 列表</p>
<p>Section  ：分组列表</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;SectionList</span><br><span class="line">        renderItem=&#123;(&#123; item, index, section &#125;) =&gt; <span class="xml"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span>&#125;</span><br><span class="line">        sections=&#123;[</span><br><span class="line">          &#123; <span class="attr">title</span>: <span class="string">'Title1'</span>, <span class="attr">data</span>: [<span class="string">'item1'</span>, <span class="string">'item2'</span>], <span class="attr">renderItem</span>: overrideRenderItem &#125;,</span><br><span class="line">          &#123; <span class="attr">title</span>: <span class="string">'Title2'</span>, <span class="attr">data</span>: [<span class="string">'item3'</span>, <span class="string">'item4'</span>], <span class="attr">renderItem</span>: overrideRenderItem2 &#125;,</span><br><span class="line">          &#123; <span class="attr">title</span>: <span class="string">'Title3'</span>, <span class="attr">data</span>: [<span class="string">'item5'</span>, <span class="string">'item6'</span>] &#125;,</span><br><span class="line">        ]&#125;</span><br><span class="line">      /&gt;</span><br><span class="line"></span><br><span class="line">      &lt;FlatList</span><br><span class="line">        data=&#123;[&#123; <span class="attr">key</span>: <span class="string">'a'</span> &#125;, &#123; <span class="attr">key</span>: <span class="string">'b'</span> &#125;, &#123; <span class="attr">key</span>: <span class="string">'a'</span> &#125;, &#123; <span class="attr">key</span>: <span class="string">'b'</span> &#125;]&#125;</span><br><span class="line">        renderItem=&#123;(&#123; item &#125;) =&gt; <span class="xml"><span class="tag">&lt;<span class="name">Text</span>&gt;</span>&#123;item.key&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span>&#125;</span><br><span class="line">        ItemSeparatorComponent=&#123;() =&gt; <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">height:</span> <span class="attr">1</span>, <span class="attr">width:</span> '<span class="attr">100</span>%', <span class="attr">backgroundColor:</span> "<span class="attr">red</span>" &#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">View</span>&gt;</span></span>&#125;</span><br><span class="line">        ListHeaderComponent=&#123;() =&gt; <span class="xml"><span class="tag">&lt;<span class="name">View</span>&gt;</span><span class="tag">&lt;<span class="name">Text</span>&gt;</span>列表头<span class="tag">&lt;/<span class="name">Text</span>&gt;</span><span class="tag">&lt;/<span class="name">View</span>&gt;</span></span>&#125;</span><br><span class="line">        ListFooterComponent=&#123;() =&gt; <span class="xml"><span class="tag">&lt;<span class="name">View</span>&gt;</span><span class="tag">&lt;<span class="name">Text</span>&gt;</span>列表尾<span class="tag">&lt;/<span class="name">Text</span>&gt;</span><span class="tag">&lt;/<span class="name">View</span>&gt;</span></span>&#125;</span><br><span class="line">        numColumns=&#123;<span class="number">2</span>&#125;</span><br><span class="line">        columnWrapperStyle=&#123;&#123; <span class="attr">borderWidth</span>: <span class="number">1</span>, <span class="attr">borderColor</span>: <span class="string">'blue'</span>, <span class="attr">paddingLeft</span>: <span class="number">20</span> &#125;&#125;  <span class="comment">//指定每一行容器的样式(设置多列的情况下)</span></span><br><span class="line">        getItemLayout=&#123;(data, index) =&gt; (</span><br><span class="line">          &#123; <span class="attr">length</span>: <span class="number">100</span>, <span class="attr">offset</span>: (<span class="number">100</span> + <span class="number">2</span>) * index, index &#125;</span><br><span class="line">        )&#125;   <span class="comment">//当行高固定的时候可以使用这个属性来优化性能</span></span><br><span class="line">        refreshing=&#123;<span class="literal">false</span>&#125;     <span class="comment">//当前是否正在刷新</span></span><br><span class="line">        onEndReachedThreshold=&#123;<span class="number">0</span>&#125;  <span class="comment">//到距离底部0的时候触发onEndReached方法</span></span><br><span class="line">        onEndReached=&#123;() =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">"拉到底部了"</span>) &#125;&#125;</span><br><span class="line">      /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> overrideRenderItem = <span class="function">(<span class="params">&#123; item, index, section: &#123; title, data &#125; &#125;</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> '<span class="attr">red</span>' &#125;&#125; <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>Override1&#123;item&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br><span class="line">  <span class="keyword">const</span> overrideRenderItem2 = <span class="function">(<span class="params">&#123; item, index, section: &#123; title, data &#125; &#125;</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Text</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> '<span class="attr">blue</span>' &#125;&#125; <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>Override2&#123;item&#125;<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="7-其他组件"><a href="#7-其他组件" class="headerlink" title="7.其他组件"></a>7.其他组件</h2><p>ActivityIndicator     —&gt; 提示的Activity</p>
<p>Alert              —&gt;提示弹框</p>
<p>Modal             —&gt;模态页面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button onPress=&#123;showModal&#125; title=<span class="string">"弹出Modal"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line">      &lt;Button onPress=&#123;showAlert&#125; title=<span class="string">"弹出Alert"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">      &lt;Modal</span><br><span class="line">        animationType=<span class="string">'slide'</span>           <span class="comment">// 从底部滑入</span></span><br><span class="line">        transparent=&#123;<span class="literal">false</span>&#125;             <span class="comment">// 不透明</span></span><br><span class="line">        visible=&#123;showmodal&#125;    <span class="comment">// 根据isModal决定是否显示</span></span><br><span class="line">        onRequestClose=&#123;() =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">"onRequestClose"</span>) &#125;&#125;  <span class="comment">// android必须实现</span></span><br><span class="line">      &gt;</span><br><span class="line">        &lt;View style=&#123;styles.modalViewStyle&#125;&gt;</span><br><span class="line">          &#123;<span class="comment">/* 关闭页面 */</span>&#125;</span><br><span class="line">          &lt;TouchableOpacity</span><br><span class="line">            onPress=&#123;() =&gt; &#123;</span><br><span class="line">              onChangeShowmodal(<span class="literal">false</span>)</span><br><span class="line">            &#125;&#125;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;Text&gt;关闭页面&lt;<span class="regexp">/Text&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>TouchableOpacity&gt;</span><br><span class="line">        &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Modal&gt;</span><br><span class="line"></span><br><span class="line">      &lt;ActivityIndicator animating=&#123;<span class="literal">true</span>&#125; color=<span class="string">"blue"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">ActivityIndicator</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">showAlert = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    Alert.alert(</span><br><span class="line">      <span class="string">'Alert Title'</span>,</span><br><span class="line">      <span class="string">'My Alert Msg'</span>,</span><br><span class="line">      [</span><br><span class="line">        &#123; <span class="attr">text</span>: <span class="string">'Ask me later'</span>, <span class="attr">onPress</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Ask me later pressed'</span>) &#125;,</span><br><span class="line">        &#123; <span class="attr">text</span>: <span class="string">'Cancel'</span>, <span class="attr">onPress</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Cancel Pressed'</span>), <span class="attr">style</span>: <span class="string">'cancel'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">text</span>: <span class="string">'OK'</span>, <span class="attr">onPress</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'OK Pressed'</span>) &#125;,</span><br><span class="line">      ],</span><br><span class="line">      &#123; <span class="attr">cancelable</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  showModal = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    onChangeShowmodal(<span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"> <span class="keyword">const</span> [showModal1,onChangeShowmodal] = React.useState(<span class="literal">false</span>)</span><br></pre></td></tr></table></figure>

<p>Animated的使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [fadeInOpacity, onChangeFadeInOpacity] = React.useState(<span class="keyword">new</span> Animated.Value(<span class="number">0</span>))</span><br><span class="line">  React.useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    Animated.timing(fadeInOpacity, &#123;</span><br><span class="line">      toValue: <span class="number">1</span>, <span class="comment">// 目标值</span></span><br><span class="line">      duration: <span class="number">2500</span>, <span class="comment">// 动画时间</span></span><br><span class="line">    &#125;).start();</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line"> &lt;Animated.View                       <span class="comment">// 使用专门的可动画化的View组件</span></span><br><span class="line">        style=&#123;&#123;</span><br><span class="line">          opacity: fadeInOpacity          <span class="comment">// 将透明度指定为动画变量值</span></span><br><span class="line">        &#125;&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;Text&gt;测试透明度动画&lt;<span class="regexp">/Text&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Animated.View&gt;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/04/22-react项目练手/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/04/22-react项目练手/" itemprop="url">22.react项目练手</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-04T23:06:14+08:00">
                2019-12-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-小问题"><a href="#1-小问题" class="headerlink" title="1.小问题"></a>1.小问题</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Intervention] Unable to preventDefault inside passive event listener due to target being treated <span class="keyword">as</span> passive. See &lt;URL&gt;</span><br><span class="line">    </span><br><span class="line">由于目标被当作被动事件监听器，无法防止被动事件监听器中的默认值。看到&lt; URL &gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">   touch-action: none;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-路由使用"><a href="#2-路由使用" class="headerlink" title="2.路由使用"></a>2.路由使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; withRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.props.history.push(<span class="string">"/"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> withRouter (RTab);</span><br><span class="line"></span><br><span class="line">&lt;HashRouter&gt;</span><br><span class="line">      &lt;RNav&gt;<span class="xml"><span class="tag">&lt;/<span class="name">RNav</span>&gt;</span></span></span><br><span class="line">      &lt;RouterMap&gt;<span class="xml"><span class="tag">&lt;/<span class="name">RouterMap</span>&gt;</span></span></span><br><span class="line">      &lt;Button type=<span class="string">'primary'</span>&gt;按钮&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;RTab&gt;&lt;/</span>RTab&gt;  </span><br><span class="line">&lt;<span class="regexp">/HashRouter&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-路由传值"><a href="#3-路由传值" class="headerlink" title="3.路由传值"></a>3.路由传值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  1. 导入get的方法</span></span><br><span class="line"><span class="keyword">import</span> &#123;fetchget,fetchpost&#125; <span class="keyword">from</span> <span class="string">'../../untils/myfetch.js'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 获取数据</span></span><br><span class="line"><span class="keyword">async</span> componentDidMount() &#123;</span><br><span class="line">        <span class="comment">// 获取广告数据</span></span><br><span class="line">        <span class="keyword">const</span> result =<span class="keyword">await</span> fetchget(<span class="string">'/api/homead'</span>)</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            ads: result</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 传值</span></span><br><span class="line"> &lt;Ad ads=&#123;<span class="keyword">this</span>.state.ads&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Ad</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 渲染到页面上</span></span><br><span class="line">&lt;div className=<span class="string">"ad-container clear-fix"</span>&gt;</span><br><span class="line">      &#123;<span class="keyword">this</span>.props.ads.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span> <span class="attr">className</span>=<span class="string">"ad-item float-left"</span>&gt;</span></span></span><br><span class="line">               &lt;a href=&#123;item.link&#125; target="_blank"&gt;</span><br><span class="line">                     &lt;img src=&#123;require(item.img+'')&#125; alt=&#123;item.title&#125;/&gt;</span><br><span class="line">               &lt;/a&gt;</span><br><span class="line"><span class="xml">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">     &#125;)&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>拓展 </p>
<ol>
<li>根据 ads 的长度进行判断是否加载</li>
<li>导入 ActivityIndicator 组件</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ActivityIndicator&#125; <span class="keyword">from</span> <span class="string">'antd-mobile'</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">         <span class="comment">//传递数据给子组件</span></span><br><span class="line">         <span class="keyword">this</span>.state.ads.length</span><br><span class="line">          ? <span class="xml"><span class="tag">&lt;<span class="name">Ad</span> <span class="attr">ads</span>=<span class="string">&#123;this.state.ads&#125;/</span>&gt;</span></span></span><br><span class="line">         : &lt;ActivityIndicator text="loading..."/&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/02/21-Flux和Redux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/02/21-Flux和Redux/" itemprop="url">21.Flux和Redux</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-02T20:52:25+08:00">
                2019-12-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-react-virtualized"><a href="#1-react-virtualized" class="headerlink" title="1.react-virtualized"></a>1.react-virtualized</h2><p>是一个react中的虚拟化的库，使用它来做列表、Grid可以提高性能，减少dom操作。</p>
<ul>
<li><p>Grid：用于优化构建任意网状的结构，传入一个二维的数组，渲染出类似棋盘的结构。</p>
</li>
<li><p>List：List是基于Grid来实现的，但是是一个维的列表，而不是网状。</p>
</li>
<li><p>Collection：类似于瀑布流的形式，同样可以水平和垂直方向滚动。</p>
</li>
</ul>
<h2 id="2-Flux"><a href="#2-Flux" class="headerlink" title="2.Flux"></a>2.Flux</h2><p>Flux 是一种架构思想，专门解决软件的结构问题。它跟MVC 架构是同一类东西，但是更加简单和清晰</p>
<p>Flux把应用分为4个部分:</p>
<ol>
<li><p>View  :  视图</p>
</li>
<li><p>Action  ：动作</p>
</li>
<li><p>Dispatcher ：派发器，用来接收Action</p>
</li>
<li><p>Store ： 数据层</p>
</li>
</ol>
<p>Flux最大特点：数据单向流动</p>
<h2 id="3-Redux"><a href="#3-Redux" class="headerlink" title="3.Redux"></a>3.Redux</h2><p>我们把Flux看做一个框架的理念的话，Redux是Flux的一种实现</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Redux在此基础上强调三个基本原则：</span><br><span class="line"><span class="number">1.</span>唯一数据源 ：唯一数据源指的是应用的状态数据应该只存储在唯一的一个Store上。</span><br><span class="line"><span class="number">2.</span>保持状态只读 ： 保持状态只读，就是说不能去直接修改状态，要修改Store的状态，必须要通过派发一个action对象完成。</span><br><span class="line"><span class="number">3.</span>数据改变只能通过纯函数完成 ：这里所说的纯函数就是把Reducer，Reducer描述了state状态如何修改。Redux这个名字的前三个字母Red代表的就是Reducer，其实Redux名字的含义就是Reducer+Flux。</span><br></pre></td></tr></table></figure>

<p><img src="/2019/12/02/21-Flux和Redux/1.png" alt="BP"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装redux   yarn add redux</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.引入createStore，用来创建一个Store对象</span></span><br><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.创建actions。action是改变state的唯一途径，返回一个普通的javascript对象，</span></span><br><span class="line"><span class="comment">//它描述了一个行为且是改变state的唯一途径。</span></span><br><span class="line"><span class="comment">//这个行为我们需要通过dispatch函数来触发action，从而改变对应的state。</span></span><br><span class="line"><span class="comment">//action必须带有type指明具体的行为名称，且能附带上额外的信息。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">type</span>:<span class="string">'ADD'</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minusFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">type</span>:<span class="string">'MINUS'</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">4.创建reducer</span></span><br><span class="line"><span class="comment">    这是一个 reducer，形式为 (state, action) =&gt; state 的纯函数。</span></span><br><span class="line"><span class="comment">    该reducer可以接收action，描述如何通过action把state转变成下一个state。</span></span><br><span class="line"><span class="comment">    state的形式取决于你，可以是基本类型、数组、对象、甚至是Immutable.js 生成的数据结构。</span></span><br><span class="line"><span class="comment">    惟一的要点是当state变化时需要返回全新的对象，而不是修改传入的参数。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">counter</span>(<span class="params">state = <span class="number">0</span>, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'ADD'</span>:</span><br><span class="line">          <span class="keyword">return</span> state + <span class="number">1</span></span><br><span class="line">      <span class="keyword">case</span> <span class="string">'MINUS'</span>:</span><br><span class="line">          <span class="keyword">return</span> state - <span class="number">1</span></span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">          <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.创建一个store。store对象的API 有 &#123; subscribe, dispatch, getState &#125;。</span></span><br><span class="line"><span class="keyword">let</span> store = createStore(counter)</span><br><span class="line"></span><br><span class="line"><span class="comment">//6.订阅更新，监听state的变化</span></span><br><span class="line">store.subscribe(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(store.getState(),<span class="string">"xxxx"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//7.通过dispatch来触发action修改state</span></span><br><span class="line">store.dispatch(addFn())</span><br><span class="line">store.dispatch(addFn())</span><br><span class="line">store.dispatch(minusFn())</span><br></pre></td></tr></table></figure>

<h3 id="3-1-异步处理"><a href="#3-1-异步处理" class="headerlink" title="3.1 异步处理"></a>3.1 异步处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">异步处理：</span><br><span class="line"><span class="number">1.</span>	yarn add redux-thunk </span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>	<span class="keyword">const</span> store=createStore(couter ,applyMiddleware(thunk))</span><br><span class="line">    <span class="keyword">import</span> &#123; createStore,applyMiddleware &#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>	声明异步action</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addAsynFn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">dispatch</span>=&gt;</span>&#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            dispatch(addFn())</span><br><span class="line">        &#125;,<span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>react-redux是在react中使用redux的一个插件，使用它可以方便快捷的在react中用redux。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//react-redux的使用步骤</span></span><br><span class="line"><span class="comment">//1.安装 yarn add react-redux</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.react-redux 给我们提供了两个接口：一个Provider，一个是connect</span></span><br><span class="line"><span class="comment">//2.1 Provider组件的作用：在子组件中快速获取到store对象</span></span><br><span class="line"><span class="comment">//2.2 connect组件的作用：连接React组件与Redux store。连接操作不会改变原来的组件类,反而返回一个新的已与Redux store连接的组件类。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.在index.js中引入Provider组件，并且作为项目根组件包裹App组件，然后传入store</span></span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span><span class="tag">&lt;<span class="name">App</span>/&gt;</span><span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.在需要视同redux的组件中引入connect组件，然后使用connect将当前组件和redux的store关联</span></span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></span><br><span class="line"><span class="keyword">import</span> &#123; addFn, minusFn, addAsynFn &#125; <span class="keyword">from</span> <span class="string">'./actions/index'</span></span><br><span class="line"><span class="comment">//会将store中state的数据映射到组件的props中</span></span><br><span class="line"><span class="keyword">const</span> mapStatetoProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">num</span>: state &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//会将actions映射到组件的props中 </span></span><br><span class="line"><span class="keyword">const</span> mapDispatchToProps = &#123; addFn, minusFn, addAsynFn &#125;</span><br><span class="line"><span class="comment">//使用connect返回一个已经把App和store联系起来的一个组件</span></span><br><span class="line">App = connect(mapStatetoProps, mapDispatchToProps)(App)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.在组件的页面中就可以使用store了</span></span><br><span class="line">        <span class="keyword">const</span> num = <span class="keyword">this</span>.props.num</span><br><span class="line">        <span class="keyword">const</span> addFn = <span class="keyword">this</span>.props.addFn</span><br><span class="line">        <span class="keyword">const</span> minusFn = <span class="keyword">this</span>.props.minusFn</span><br><span class="line">        <span class="keyword">const</span> addAsynFn = <span class="keyword">this</span>.props.addAsynFn</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">                &lt;h1&gt;你好吗？&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">                &#123;&lt;p&gt;现在的总数是：&#123;num&#125;&lt;/</span>p&gt;&#125;</span><br><span class="line">                &#123;&lt;button onClick=&#123;addFn&#125;&gt;加<span class="number">1</span>&lt;<span class="regexp">/button&gt;&#125;</span></span><br><span class="line"><span class="regexp">                &#123;&lt;button onClick=&#123;minusFn&#125;&gt;减1&lt;/</span>button&gt;&#125;</span><br><span class="line">                &#123;&lt;button onClick=&#123;addAsynFn&#125;&gt;异步加<span class="number">1</span>&lt;<span class="regexp">/button&gt;&#125; </span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">        );</span><br></pre></td></tr></table></figure>

<p>合并多个reducers</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.使用combineReducers合并多个reducer</span></span><br><span class="line"><span class="keyword">import</span> &#123;combineReducers&#125; <span class="keyword">from</span> <span class="string">'redux'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;counter&#125; <span class="keyword">from</span> <span class="string">'./counter'</span>;  </span><br><span class="line"><span class="keyword">import</span> &#123;location&#125; <span class="keyword">from</span> <span class="string">'./location'</span>;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> combineReducers(&#123;counter,location&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.在index.js中引入合并后的reducer，并且使用合并后的reducer创建store</span></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'./reducers/index'</span></span><br><span class="line"><span class="keyword">let</span> store = createStore(reducer,applyMiddleware(thunk))</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.在页面使用store的时候需要从state中获取对应的数据</span></span><br><span class="line"><span class="keyword">const</span> mapStatetoProps = <span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">num</span>:state.counter,<span class="attr">location</span>:state.location&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-redux的不可变数据"><a href="#4-redux的不可变数据" class="headerlink" title="4.redux的不可变数据"></a>4.redux的不可变数据</h2><p>在redux中整个应用共用一个state。如何判断state更新呢？Redux采用不可变数据。</p>
<p>我们在判断数据是否相同时，并不需要深入判断数据对象的值是否相同，只需要浅比较即可，也就是判断是否为同一个数据对象地址，因为不可变数据对象在数据变化时均会重新创建一个新的数据对象，数据对象的地址不会相同。这也就是为什么在Reactjs，Redux中才有不可变数据对象。</p>
<h2 id="5-fetch的使用"><a href="#5-fetch的使用" class="headerlink" title="5.fetch的使用"></a>5.fetch的使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//安装  yarn add whatwg-fetch es6-promise</span></span><br><span class="line"></span><br><span class="line">fetch(<span class="string">'/api/home'</span>, &#123;</span><br><span class="line">            credentials: <span class="string">"include"</span>,</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            fetch不管在同域还是在跨域的情况下，默认都不携带cookie的，所以那些需要权限验证的请求就无法正常获取到数据，这时候需要配置credentials项，有一下三个选项可添：</span></span><br><span class="line"><span class="comment">             omit： 默认值，忽略cookie的发送</span></span><br><span class="line"><span class="comment">             same-origin： 表示cookie只能同域发送，不能跨域发送</span></span><br><span class="line"><span class="comment">             include： 表示既可以同域发送，也可以跨域发送</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">//有三种方式解析获取到的数据：</span></span><br><span class="line">                <span class="comment">//1  json数据       用reponse.json()来解析</span></span><br><span class="line">                <span class="comment">//2  xml格式文件    用response.text()来解析</span></span><br><span class="line">                <span class="comment">//3  图片文件       用response.blob()来解析</span></span><br><span class="line">                <span class="keyword">return</span> response.json();</span><br><span class="line">            &#125;)</span><br><span class="line">            .then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> handleRequestPOST = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//post请求需要提交的数据</span></span><br><span class="line">        fetch(<span class="string">'/api/submit'</span>, &#123;</span><br><span class="line">            method: <span class="string">'post'</span>,   <span class="comment">//请求方式</span></span><br><span class="line">            credentials: <span class="string">"include"</span>,</span><br><span class="line">            headers: &#123;</span><br><span class="line">                <span class="comment">//post请求格式</span></span><br><span class="line">                <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//post请求发送的数据需要是这样的</span></span><br><span class="line">            body: <span class="string">"name=zhangsan&amp;content=宝宝不开心"</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .then(<span class="function"><span class="params">response</span> =&gt;</span> response.json())</span><br><span class="line">            .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(data);</span><br><span class="line">            &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'error is'</span>, error));</span><br></pre></td></tr></table></figure>

<p>代理的配置：</p>
<ol>
<li><p>yarn add http-proxy-middleware</p>
</li>
<li><p>在src目录下创建setupProxy.js</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> proxy = <span class="built_in">require</span>(<span class="string">"http-proxy-middleware"</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">app</span>) </span>&#123;</span><br><span class="line">  app.use(</span><br><span class="line">    proxy(<span class="string">"/api/*"</span>, &#123;</span><br><span class="line">      target: <span class="string">"http://localhost:9999/"</span>,</span><br><span class="line">      changeOrigin: <span class="literal">true</span></span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line"><span class="comment">//   app.use(</span></span><br><span class="line"><span class="comment">//     proxy("/fans/**", &#123;</span></span><br><span class="line"><span class="comment">//       target: "https://easy-mock.com/mock/5c0f31837214cf627b8d43f0/",</span></span><br><span class="line"><span class="comment">//       changeOrigin: true</span></span><br><span class="line"><span class="comment">//     &#125;)</span></span><br><span class="line"><span class="comment">//   );</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="5-1-fetch的封装"><a href="#5-1-fetch的封装" class="headerlink" title="5.1 fetch的封装"></a>5.1 fetch的封装</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'whatwg-fetch'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'es6-promise'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//导出get请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchget</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = fetch(url, &#123;</span><br><span class="line">        credentials: <span class="string">'include'</span>,</span><br><span class="line">        headers: &#123;</span><br><span class="line">            <span class="string">'Accept'</span>: <span class="string">'application/json, text/plain, */*'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> result.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送 post 请求</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchpost</span>(<span class="params">url, paramsObj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = fetch(url, &#123;</span><br><span class="line">        method: <span class="string">'POST'</span>,</span><br><span class="line">        credentials: <span class="string">'include'</span>,</span><br><span class="line">        headers: &#123;</span><br><span class="line">            <span class="string">'Accept'</span>: <span class="string">'application/json, text/plain, */*'</span>,</span><br><span class="line">            <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        body: obj2params(paramsObj)</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> result.then(<span class="function"><span class="params">response</span> =&gt;</span> response.json());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将对象拼接成 key1=val1&amp;key2=val2&amp;key3=val3 的字符串形式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">obj2params</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">var</span> item;</span><br><span class="line">    <span class="keyword">for</span> (item <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        result += <span class="string">'&amp;'</span> + item + <span class="string">'='</span> + <span class="built_in">encodeURIComponent</span>(obj[item]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (result) &#123;</span><br><span class="line">        result = result.slice(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/29/20-creat-react-app/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/29/20-creat-react-app/" itemprop="url">20.creat-react-app</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-29T16:14:38+08:00">
                2019-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-React-dev-tools"><a href="#1-React-dev-tools" class="headerlink" title="1.   React dev tools"></a>1.   React dev tools</h2><p>将资料中的react-developer-tools-3.6.0 拖入到浏览器的扩展程序中</p>
<p> <img src="/2019/11/29/20-creat-react-app/1.png" alt="BP"></p>
<h2 id="2-creat-react-app创建项目"><a href="#2-creat-react-app创建项目" class="headerlink" title="2.  creat-react-app创建项目"></a>2.  creat-react-app创建项目</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 全局安装</span><br><span class="line">npm install -g create-react-app</span><br><span class="line"></span><br><span class="line"># 构建一个my-app的项目</span><br><span class="line">npx create-react-app my-app</span><br><span class="line"></span><br><span class="line"># 运行项目</span><br><span class="line">yarn start  /npm run start</span><br></pre></td></tr></table></figure>

<p><img src="/2019/11/29/20-creat-react-app/2.png" alt="BP"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># react-scripts主要设计原理是将配置好的如 `Webpack，Babel，ESLint` ，合并到 `react-scripts` 这npm包中，用户就可以开箱即用</span><br><span class="line"></span><br><span class="line">yarn run eject  #反编译将react-scripts包反编辑成源代码(配置文件)</span><br><span class="line">npm install    #反编译之后要重新安装项目的依赖，否则项目运行不起来</span><br><span class="line">yarn start     #重新启动app</span><br><span class="line"></span><br><span class="line"><span class="comment">//修改yarn和npm的源 ★</span></span><br><span class="line">yarn config <span class="keyword">set</span> registry https://registry.npm.taobao.org/</span><br><span class="line">npm config <span class="keyword">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<h2 id="3-creat-react-app基本配置"><a href="#3-creat-react-app基本配置" class="headerlink" title="3.   creat-react-app基本配置"></a>3.   creat-react-app基本配置</h2><ol>
<li><p>开启模块化 ：</p>
<p>只要给文件名命名为  xx.module.css   xx.module.scss  xx.module.less</p>
</li>
<li><p>开启sass：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add node-sass</span><br></pre></td></tr></table></figure>

<p>然后创建button.scss或者button.module.scss，此时就可以使用scss文件了</p>
</li>
<li><p>在scss文件中引入其他文件</p>
<p>~代表nodel_modules</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">'../styles/common.scss'</span>;</span><br><span class="line">@<span class="keyword">import</span> <span class="string">'~bootstrap/dist/css/bootstrap.css'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启less </p>
<p>Yarn add less less-loader</p>
<p>   修改webpack.config.js  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//找到如下代码</span></span><br><span class="line"><span class="keyword">const</span> cssRegex = <span class="regexp">/\.css$/</span>;</span><br><span class="line"><span class="keyword">const</span> cssModuleRegex = <span class="regexp">/\.module\.css$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//修改为如下代码</span></span><br><span class="line"><span class="keyword">const</span> cssRegex = <span class="regexp">/\.(css|less)$/</span>;</span><br><span class="line"><span class="keyword">const</span> cssModuleRegex = <span class="regexp">/\.module\.(css|less)$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//找到这段代码</span></span><br><span class="line">test: cssRegex,</span><br><span class="line">exclude: cssModuleRegex,</span><br><span class="line">use: getStyleLoaders(&#123;</span><br><span class="line">    importLoaders: <span class="number">1</span>,</span><br><span class="line">    sourceMap: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">&#125;),</span><br><span class="line"><span class="comment">// Don't consider CSS imports dead code even if the</span></span><br><span class="line"><span class="comment">// containing package claims to have no side effects.</span></span><br><span class="line"><span class="comment">// Remove this when webpack adds a warning or an error for this.</span></span><br><span class="line"><span class="comment">// See https://github.com/webpack/webpack/issues/6571</span></span><br><span class="line">sideEffects: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//修改为如下代码</span></span><br><span class="line">test: cssRegex,</span><br><span class="line">exclude: cssModuleRegex,</span><br><span class="line">use: getStyleLoaders(&#123;</span><br><span class="line">    importLoaders: <span class="number">2</span>,</span><br><span class="line">    sourceMap: isEnvProduction &amp;&amp; shouldUseSourceMap,</span><br><span class="line">  &#125;,</span><br><span class="line">    <span class="string">'less-loader'</span></span><br><span class="line">),</span><br><span class="line"><span class="comment">// Don't consider CSS imports dead code even if the</span></span><br><span class="line"><span class="comment">// containing package claims to have no side effects.</span></span><br><span class="line"><span class="comment">// Remove this when webpack adds a warning or an error for this.</span></span><br><span class="line"><span class="comment">// See https://github.com/webpack/webpack/issues/6571</span></span><br><span class="line">sideEffects: <span class="literal">true</span>,</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置@路径</p>
<p>修改webpack.config.js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">alias: &#123;</span><br><span class="line">        <span class="comment">// Support React Native Web</span></span><br><span class="line">        <span class="comment">// https://www.smashingmagazine.com/2016/08/a-glimpse-into-the-future-with-react-native-for-web/</span></span><br><span class="line">        <span class="string">'react-native'</span>: <span class="string">'react-native-web'</span>,</span><br><span class="line">        <span class="comment">// Allows for better profiling with ReactDevTools</span></span><br><span class="line">        ...(isEnvProductionProfile &amp;&amp; &#123;</span><br><span class="line">          <span class="string">'react-dom$'</span>: <span class="string">'react-dom/profiling'</span>,</span><br><span class="line">          <span class="string">'scheduler/tracing'</span>: <span class="string">'scheduler/tracing-profiling'</span>,</span><br><span class="line">        &#125;),</span><br><span class="line">        ...(modules.webpackAliases || &#123;&#125;),</span><br><span class="line">        <span class="string">'@'</span>:path.join(__dirname, <span class="string">'..'</span>, <span class="string">"src"</span>) ★</span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>环境变量的使用</p>
<ul>
<li><p>在项目根目录下创建.env文件，去写环境变量。注意：如果是自定义环境变量，需要以REACT_APP_开头</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">REACT_APP_WEBSITE_NAME=myapp</span><br><span class="line">REACT_APP_PUBLIC_URL=localhost:3000</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用环境变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在js代码中使用环境变量</span></span><br><span class="line">  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"development"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#123;<span class="comment">/*在组件中使用环境变量*/</span>&#125;</span><br><span class="line">      &lt;small&gt;You are running <span class="keyword">this</span> application <span class="keyword">in</span> &lt;b&gt;&#123;process.env.NODE_ENV&#125;&lt;<span class="regexp">/b&gt; mode.&lt;/</span>small&gt;</span><br><span class="line">      &lt;input type=<span class="string">"text"</span> defaultValue=&#123;process.env.REACT_APP_WEBSITE_NAME&#125; /&gt;</span><br><span class="line">    &lt;!--在html页面中使用环境变量--&gt;</span><br><span class="line">    &lt;title&gt;%REACT_APP_WEBSITE_NAME%<span class="xml"><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>图片的使用</p>
<ul>
<li><p>在属性或者行业样式中使用图片</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Logo <span class="keyword">from</span> <span class="string">'./assets/jjf.jpeg'</span></span><br><span class="line">&lt;img src=&#123;Logo&#125; alt=<span class="string">"Logo"</span> /&gt;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在css样式中使用图片  不需要引入,可以直接使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.logoDiv&#123;</span><br><span class="line">  width: <span class="number">100</span>px;</span><br><span class="line">  height: <span class="number">100</span>px;</span><br><span class="line">  background-image: url(<span class="string">'./assets/jjf.jpeg'</span>);</span><br><span class="line">  background-position: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>字体图标的使用</p>
<ul>
<li><p>npm install font-awesome</p>
</li>
<li><p>引入样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'font-awesome/css/font-awesome.css'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用样式</p>
<p>具体使用参照官网：<a href="http://www.fontawesome.com.cn/faicons/" target="_blank" rel="noopener">http://www.fontawesome.com.cn/faicons/</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-address-book"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>reactstrap的使用</p>
<p> reactstrap：是一个基于boostrap的react组件库</p>
<p>yarn add reactstrap [<a href="mailto:bootstrap@4.0.0" target="_blank" rel="noopener">bootstrap@4.0.0</a>]</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'bootstrap/dist/css/bootstrap.css'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Alert &#125; <span class="keyword">from</span> <span class="string">'reactstrap'</span>;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment">/*使用reactstrap组件 */</span>&#125;</span><br><span class="line">      &lt;Alert color=<span class="string">"primary"</span>&gt;</span><br><span class="line">        This is a primary alert — check it out!</span><br><span class="line">      &lt;<span class="regexp">/Alert&gt;</span></span><br></pre></td></tr></table></figure>

<p>具体用法：参照 <a href="http://reactstrap.github.io/components/modals/" target="_blank" rel="noopener">http://reactstrap.github.io/components/modals/</a></p>
</li>
</ol>
<h2 id="4-AntDesign的使用"><a href="#4-AntDesign的使用" class="headerlink" title="4.   AntDesign的使用"></a>4.   AntDesign的使用</h2><ol>
<li><p>安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add antd</span><br></pre></td></tr></table></figure>
</li>
<li><p>按需加载</p>
<p>a.      yarn add babel-plugin-import –dev</p>
<p>b.     修改webpack.config.dev.js，将babelrc改成true</p>
<p>c.      删除package.json中babel的配置</p>
<p>d.     在项目根目录下创建一个 .babelrc文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>: [</span><br><span class="line">        <span class="string">"react-app"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"plugins"</span>: [</span><br><span class="line">        [</span><br><span class="line">            <span class="string">"import"</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">"libraryName"</span>: <span class="string">"antd"</span>,</span><br><span class="line">                <span class="string">"style"</span>: <span class="string">"css"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用antd</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; DatePicker &#125; <span class="keyword">from</span> <span class="string">'antd'</span>;</span><br></pre></td></tr></table></figure>

<p>然后在页面中使用对应的组件就可以了</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/27/19.react-spring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/27/19.react-spring/" itemprop="url">19.react-spring</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-27T22:31:39+08:00">
                2019-11-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-react-spring基本使用"><a href="#1-react-spring基本使用" class="headerlink" title="1.  react-spring基本使用"></a>1.  react-spring基本使用</h1><p>1.安装动画库   </p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">npm</span> install react-spring</span><br></pre></td></tr></table></figure>

<p>2.引入动画库  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useSpring, animated, config &#125; from &apos;react-spring&apos;</span><br></pre></td></tr></table></figure>

<p>3.声明改变透明度的动画  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> opacityAnimation = useSpring(&#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">opacity</span>: <span class="number">0</span> &#125;,</span><br><span class="line">        to: &#123; <span class="attr">opacity</span>: <span class="number">1</span> &#125;</span><br><span class="line">&#125;)</span><br><span class="line"> &#123;<span class="comment">/*把要动画的元素通过animated来修饰*/</span>&#125;</span><br><span class="line">&lt;animated.div style=&#123;opacityAnimation&#125;&gt;Demo1&lt;<span class="regexp">/animated.div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/当我们要对组件进行动画的时候，我们需要使用animated方法把组件包裹起来，然后直接使用包裹后的组件名字</span></span><br><span class="line"><span class="regexp">const AnimatedDonut4 = animated(Donut4)</span></span><br><span class="line"><span class="regexp">return (</span></span><br><span class="line"><span class="regexp">        &lt;AnimatedDonut4&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>AnimatedDonut4&gt;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="2-动画的配置"><a href="#2-动画的配置" class="headerlink" title="2.  动画的配置"></a>2.  动画的配置</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4.声明改变颜色的动画</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        config的一些配置参数：</span></span><br><span class="line"><span class="comment">            mass：影响速度以及过渡的效果。</span></span><br><span class="line"><span class="comment">            tension：影响整体速度。</span></span><br><span class="line"><span class="comment">            friction：控制阻力及其减速的速度。</span></span><br><span class="line"><span class="comment">            clamp：是否应该瞬间过渡。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        config.default  &#123; mass: 1, tension: 170, friction: 26 &#125;</span></span><br><span class="line"><span class="comment">        config.gentle   &#123; mass: 1, tension: 120, friction: 14 &#125;</span></span><br><span class="line"><span class="comment">        config.wobbly   &#123; mass: 1, tension: 180, friction: 12 &#125;</span></span><br><span class="line"><span class="comment">        config.stiff    &#123; mass: 1, tension: 210, friction: 20 &#125;</span></span><br><span class="line"><span class="comment">        config.slow     &#123; mass: 1, tension: 280, friction: 60 &#125;</span></span><br><span class="line"><span class="comment">        config.molasses &#123; mass: 1, tension: 280, friction: 120 &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">const</span> colorAnimation = useSpring(&#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">color</span>: <span class="string">'blue'</span> &#125;,</span><br><span class="line">        color: <span class="string">'red'</span>,  <span class="comment">//默认情况下 to可以省略</span></span><br><span class="line">        config: config.slow, <span class="comment">//动画的配置</span></span><br><span class="line">        config: &#123; <span class="attr">duration</span>: <span class="number">2000</span>,<span class="attr">tension</span>: <span class="number">210</span> &#125;,</span><br><span class="line">        delay: <span class="number">2000</span>, <span class="comment">//动画的延迟时间</span></span><br><span class="line">        reset:<span class="literal">true</span>,  <span class="comment">//从from状态过渡到to状态的时候有动画</span></span><br><span class="line">        reverse: <span class="literal">true</span>, <span class="comment">//反转from和to的状态(reverse要生效，一定要先设置reset为true)</span></span><br><span class="line">        <span class="comment">//动画开始的时候调用</span></span><br><span class="line">        onStart:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"onStart"</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//动画停止的时候调用</span></span><br><span class="line">        onRest:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"onRest"</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//每一帧动画都会调用onFrame，即使动画没有开始也会调用，会将动画的属性值作为参数入参</span></span><br><span class="line">        onFrame:<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"onFrame"</span>,value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h1 id="3-添加多个动画属性和动画状态"><a href="#3-添加多个动画属性和动画状态" class="headerlink" title="3.  添加多个动画属性和动画状态"></a>3.  添加多个动画属性和动画状态</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5.创建多个属性的动画</span></span><br><span class="line">    <span class="keyword">const</span> multiAnimation = useSpring(&#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">opacity</span>: <span class="number">0</span>, <span class="attr">color</span>: <span class="string">'red'</span> &#125;,</span><br><span class="line">        to: [</span><br><span class="line">            &#123; <span class="attr">opacity</span>: <span class="number">1</span>, <span class="attr">color</span>: <span class="string">'#ffaaee'</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">opacity</span>: <span class="number">0.1</span>, <span class="attr">color</span>: <span class="string">'red'</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">opacity</span>: <span class="number">.5</span>, <span class="attr">color</span>: <span class="string">'#008000'</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">opacity</span>: <span class="number">.8</span>, <span class="attr">color</span>: <span class="string">'black'</span> &#125;</span><br><span class="line">        ],</span><br><span class="line">        config: &#123; <span class="attr">duration</span>: <span class="number">2000</span> &#125;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>



<p>//通过async和await来控制多个动画状态</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> animation = useSpring(&#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">left</span>: <span class="string">'0%'</span>, <span class="attr">top</span>: <span class="string">'0%'</span>, <span class="attr">width</span>: <span class="string">'0%'</span>, <span class="attr">height</span>: <span class="string">'0%'</span>, <span class="attr">background</span>: <span class="string">'lightgreen'</span> &#125;,</span><br><span class="line">to: <span class="keyword">async</span> (next, cancel) =&gt; &#123;</span><br><span class="line">     <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">left</span>: <span class="string">'0%'</span>, <span class="attr">top</span>: <span class="string">'0%'</span>, <span class="attr">width</span>: <span class="string">'100%'</span>, <span class="attr">height</span>: <span class="string">'100%'</span>,<span class="attr">background</span>: <span class="string">'lightblue'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">height</span>: <span class="string">'50%'</span>, <span class="attr">background</span>: <span class="string">'lightgreen'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">width</span>: <span class="string">'50%'</span>, <span class="attr">left</span>: <span class="string">'50%'</span>, <span class="attr">background</span>: <span class="string">'lightgoldenrodyellow'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">top</span>: <span class="string">'0%'</span>, <span class="attr">height</span>: <span class="string">'100%'</span>, <span class="attr">background</span>: <span class="string">'lightpink'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">top</span>: <span class="string">'50%'</span>, <span class="attr">height</span>: <span class="string">'50%'</span>, <span class="attr">background</span>: <span class="string">'lightsalmon'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">width</span>: <span class="string">'100%'</span>, <span class="attr">left</span>: <span class="string">'0%'</span>, <span class="attr">background</span>: <span class="string">'lightcoral'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">width</span>: <span class="string">'50%'</span>, <span class="attr">background</span>: <span class="string">'lightseagreen'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">top</span>: <span class="string">'0%'</span>, <span class="attr">height</span>: <span class="string">'100%'</span>, <span class="attr">background</span>: <span class="string">'lightskyblue'</span> &#125;)</span><br><span class="line"><span class="keyword">await</span> next(&#123; <span class="attr">width</span>: <span class="string">'100%'</span>, <span class="attr">background</span>: <span class="string">'lightslategrey'</span> &#125;)</span><br><span class="line"> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h1 id="4-interpolate的使用"><a href="#4-interpolate的使用" class="headerlink" title="4.  interpolate的使用"></a>4.  interpolate的使用</h1><p>interpolate方法可以用来在动画执行的过程中，根据给定的起始、最终值，计算动画的每一步需要的值。</p>
<p>interpolate还有一个作用可以让我们模拟css的关键帧。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; o, xyz, color &#125; = useSpring(&#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">o</span>: <span class="number">0</span>, <span class="attr">xyz</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], <span class="attr">color</span>: <span class="string">'red'</span> &#125;,</span><br><span class="line">        to: &#123; <span class="attr">o</span>: <span class="number">1</span>, <span class="attr">xyz</span>: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">5</span>], <span class="attr">color</span>: <span class="string">'green'</span> &#125;,</span><br><span class="line">        config: &#123; <span class="attr">duration</span>: <span class="number">2000</span> &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;animated.div style=&#123;&#123;</span><br><span class="line">            color,</span><br><span class="line">            opacity: o.interpolate(<span class="function"><span class="params">v</span> =&gt;</span> v),</span><br><span class="line">            transform: xyz.interpolate(<span class="function">(<span class="params">x, y, z</span>) =&gt;</span> &#123; <span class="keyword">return</span> <span class="string">`translate3d(<span class="subst">$&#123;x&#125;</span>px,<span class="subst">$&#123;y&#125;</span>px,<span class="subst">$&#123;z&#125;</span>px)`</span> &#125;),</span><br><span class="line">            <span class="comment">//直接调用interpolate方法可以合并多个值，这边border使用多个值来设定样式</span></span><br><span class="line">            <span class="comment">//第一个参数是要合并的值；第二个参数是一个箭头函数，用来返回指定样式</span></span><br><span class="line">            border: interpolate([o, color], (o, color) =&gt; &#123; <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;o * <span class="number">10</span>&#125;</span>px solid <span class="subst">$&#123;color&#125;</span>`</span> &#125;),</span><br><span class="line">            <span class="comment">//interpolate还可以来做关键帧动画，range对应动画的阶段，output对应每一个动画阶段的输出值*</span></span><br><span class="line">            padding: o.interpolate(&#123; <span class="attr">range</span>: [<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>], <span class="attr">output</span>: [<span class="number">0</span>, <span class="number">1</span>, <span class="number">10</span>] &#125;).interpolate(<span class="function"><span class="params">o</span> =&gt;</span> <span class="string">`<span class="subst">$&#123;o&#125;</span>%`</span>),</span><br><span class="line">            borderColor: o.interpolate(&#123; <span class="attr">range</span>: [<span class="number">0</span>, <span class="number">1</span>], <span class="attr">output</span>: [<span class="string">'pink'</span>, <span class="string">'yellow'</span>] &#125;),</span><br><span class="line">            <span class="comment">//interpolate在做关键帧动画的时候，可以省略range和output</span></span><br><span class="line">            opacity: o.interpolate([<span class="number">0.1</span>, <span class="number">0.2</span>, <span class="number">0.6</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0.1</span>, <span class="number">0.5</span>, <span class="number">1</span>])</span><br><span class="line">        &#125;&#125;&gt;&#123;<span class="comment">/*如果要把动画属性渲染到页面，此时只能有一个元素*/</span>&#125;</span><br><span class="line">            &#123;o.interpolate(<span class="function"><span class="params">v</span> =&gt;</span> v.toFixed(<span class="number">2</span>))&#125;</span><br><span class="line">        &lt;<span class="regexp">/animated.div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br></pre></td></tr></table></figure>

<p>注意点：interpolate只能被动画属性调用，普通字段是不可以调用interpolate方法</p>
<h1 id="5-使用state来控制动画"><a href="#5-使用state来控制动画" class="headerlink" title="5.   使用state来控制动画"></a>5.   使用state来控制动画</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hook：允许我们在函数组件中使用state</span></span><br><span class="line">    <span class="keyword">const</span> [flag, setFlag] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//这边所创建的animation的opacity的变化是通过一个flag的state来控制的</span></span><br><span class="line">    <span class="keyword">const</span> animation = useSpring(&#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">opacity</span>: <span class="number">0</span> &#125;,</span><br><span class="line">        to: &#123; <span class="attr">opacity</span>: flag ? <span class="number">1</span> : <span class="number">0</span> &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;button onClick=&#123;()=&gt;&#123;setFlag(!flag)&#125;&#125;&gt;点我切换透明度&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;animated.div onMouseOver=&#123;()=&gt;&#123;setFlag(true)&#125;&#125; onMouseOut=&#123;()=&gt;&#123;setFlag(false)&#125;&#125; style=&#123;animation&#125;&gt;透明度变了&lt;/</span>animated.div&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="6-通过useSpring入参箭头函数来控制动画"><a href="#6-通过useSpring入参箭头函数来控制动画" class="headerlink" title="6. 通过useSpring入参箭头函数来控制动画"></a>6. 通过useSpring入参箭头函数来控制动画</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.useSpring()接收箭头函数，此时会返回一个数组</span></span><br><span class="line">    <span class="comment">//通过解构赋值获取到useSpring()函数返回的结果  animation表示动画属性，set可以用来修改动画属性，stop可以用来停止动画</span></span><br><span class="line">    <span class="keyword">const</span> [animation, <span class="keyword">set</span>, stop] = useSpring(() =&gt; (&#123; opacity: <span class="number">0</span> &#125;))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;animated.div style=&#123;animation&#125; onMouseOver=&#123;()=&gt;&#123;<span class="keyword">set</span>(&#123;opacity: <span class="number">1</span>&#125;)&#125;&#125; onMouseOut=&#123;()=&gt;&#123;<span class="keyword">set</span>(&#123;opacity: <span class="number">0</span>&#125;)&#125;&#125;&gt;移入移出动画&lt;<span class="regexp">/animated.div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="7-useSprings动画"><a href="#7-useSprings动画" class="headerlink" title="7.   useSprings动画"></a>7.   useSprings动画</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">useSprings可以用来创建一组Spring，每个Spring都有自己的配置。</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> items = [<span class="number">0.2</span>, <span class="number">0.4</span>, <span class="number">0.6</span>, <span class="number">0.8</span>, <span class="number">1.0</span>];</span><br><span class="line">    <span class="comment">//创建5个spring</span></span><br><span class="line">    <span class="comment">//第一个spring的opacity=0.2</span></span><br><span class="line">    <span class="comment">//第二个spring的opacity=0.4</span></span><br><span class="line">    <span class="comment">//第三个spring的opacity=0.6</span></span><br><span class="line">    <span class="comment">//第四个spring的opacity=0.8</span></span><br><span class="line">    <span class="comment">//第五个spring的opacity=1.0</span></span><br><span class="line">    <span class="keyword">const</span> springs = useSprings(<span class="number">5</span>, items.map(<span class="function"><span class="params">item</span> =&gt;</span> (&#123; <span class="attr">opacity</span>: item,<span class="attr">from</span>:&#123;<span class="attr">opacity</span>:<span class="number">0</span>&#125; &#125;)));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        springs.map(<span class="function">(<span class="params">props,idx</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">animated.div</span> <span class="attr">key</span>=<span class="string">&#123;idx&#125;</span> <span class="attr">style</span>=<span class="string">&#123;props&#125;</span>&gt;</span>item springs<span class="tag">&lt;/<span class="name">animated.div</span>&gt;</span></span>)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="8-useTrail动画"><a href="#8-useTrail动画" class="headerlink" title="8.   useTrail动画"></a>8.   useTrail动画</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//useTrail可以用来创建一组Spring，每个Spring都有相同的配置，每个Spring跟随前一个Spring，在交叉的动画中使用</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//这种写法可以</span></span><br><span class="line">    <span class="comment">//const trail = useTrail(5, &#123;opacity: 1&#125;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//这种写法也可以</span></span><br><span class="line">    <span class="comment">//创建5个spring，每个spring的配置都是一样的</span></span><br><span class="line">    <span class="keyword">const</span> [trail, <span class="keyword">set</span>, stop] = useTrail(5, () =&gt; (&#123; opacity: <span class="number">1</span> &#125;))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;trail.map((p, idx) =&gt; <span class="tag">&lt;<span class="name">animated.div</span> <span class="attr">key</span>=<span class="string">&#123;idx&#125;</span> <span class="attr">style</span>=<span class="string">&#123;p&#125;</span> &gt;</span>哈哈<span class="tag">&lt;/<span class="name">animated.div</span>&gt;</span>)&#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; set(&#123; opacity: 0 &#125;) &#125;&#125;&gt;点我改变透明度<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<h1 id="9-useTransition动画"><a href="#9-useTransition动画" class="headerlink" title="9.   useTransition动画"></a>9.   useTransition动画</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">useTransition 可以进行过渡动画 (显示-&gt;隐藏)</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.useTransition 可以对一组元素进行过渡动画</span></span><br><span class="line">    <span class="keyword">const</span> [items, setItems] = useState([&#123; <span class="attr">text</span>: <span class="string">'zhangsan'</span>, <span class="attr">key</span>: <span class="number">1</span> &#125;, &#123; <span class="attr">text</span>: <span class="string">'lisi'</span>, <span class="attr">key</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">text</span>: <span class="string">'wangwu'</span>, <span class="attr">key</span>: <span class="number">3</span> &#125;])</span><br><span class="line">    <span class="comment">//使用useTransition创建过渡动画</span></span><br><span class="line">    <span class="keyword">const</span> transitions = useTransition(items, item =&gt; item.key, &#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">transform</span>: <span class="string">'translate3d(0,-40px,0)'</span> &#125;,</span><br><span class="line">        enter: &#123; <span class="attr">transform</span>: <span class="string">'translate3d(0,0px,0)'</span> &#125;,</span><br><span class="line">        leave: &#123; <span class="attr">transform</span>: <span class="string">'translate3d(0,-40px,0)'</span> &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; setItems(state =&gt; [&#123; text: 'zhaoliu', key: 12 &#125;, ...state]) &#125;&#125;&gt;增加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;</span></span><br><span class="line"><span class="xml">            transitions.map((&#123; item, props, key &#125;) =&gt;</span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">animated.div</span> <span class="attr">key</span>=<span class="string">&#123;key&#125;</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">...props</span>, <span class="attr">display:</span> "<span class="attr">inline-block</span>", <span class="attr">marginLeft:</span> "<span class="attr">20px</span>" &#125;&#125;&gt;</span>&#123;item.text&#125;<span class="tag">&lt;/<span class="name">animated.div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            )</span></span><br><span class="line"><span class="xml">        &#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.使用useTransition还可以两个组件的切换动画、以及单个组件的切换动画</span></span><br><span class="line">    <span class="keyword">const</span> [toggle, setToggle] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个transition动画</span></span><br><span class="line">    <span class="keyword">const</span> transitions = useTransition(toggle, <span class="literal">null</span>, &#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">position</span>: <span class="string">'absolute'</span>, <span class="attr">opacity</span>: <span class="number">0</span> &#125;,</span><br><span class="line">        enter: &#123; <span class="attr">opacity</span>: <span class="number">1</span> &#125;,</span><br><span class="line">        leave: &#123; <span class="attr">opacity</span>: <span class="number">0</span> &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; setToggle(state =&gt; !state) &#125;&#125;&gt;切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;</span></span><br><span class="line"><span class="xml">            transitions.map((&#123; item, key, props &#125;) =&gt;</span></span><br><span class="line">                &lt;React.Fragment key=&#123;key&#125;&gt;</span><br><span class="line">                    &#123;/* &#123;item &amp;&amp; &lt;animated.div key=&#123;key&#125; style=&#123;props&#125;&gt;切换单个组件&lt;/animated.div&gt;&#125; */&#125;</span><br><span class="line">                    &#123;item ? &lt;animated.div style=&#123;props&#125;&gt;组件1&lt;/animated.div&gt; : &lt;animated.div style=&#123;props&#125;&gt;组件2&lt;/animated.div&gt;&#125;</span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line"><span class="xml">            )</span></span><br><span class="line"><span class="xml">        &#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用useTransition切换路由</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//App2.jsx</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'@/components2/About'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'@/components2/Home'</span></span><br><span class="line"><span class="keyword">import</span> Search <span class="keyword">from</span> <span class="string">'@/components2/Search'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useTransition, animated &#125; <span class="keyword">from</span> <span class="string">'react-spring'</span></span><br><span class="line"><span class="keyword">import</span> &#123; HashRouter, Route, Link, Switch, useLocation &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App2 = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//1.获取当前的location位置，useLocation这个方法必须要在被HashRouter包裹的节点/子节点中才可以使用</span></span><br><span class="line">    <span class="keyword">const</span> location = useLocation();</span><br><span class="line">    <span class="comment">//2.创建一个过渡动画</span></span><br><span class="line">    <span class="keyword">const</span> transitions = useTransition(location, location =&gt; location.pathname, &#123;</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">position</span>: <span class="string">'absolute'</span>, <span class="attr">opacity</span>: <span class="number">0</span>, <span class="attr">transform</span>: <span class="string">'translate3d(0,-40px,0)'</span> &#125;,</span><br><span class="line">        enter: &#123; <span class="attr">opacity</span>: <span class="number">1</span>, <span class="attr">transform</span>: <span class="string">'translate3d(0,0px,0)'</span> &#125;,</span><br><span class="line">        leave: &#123; <span class="attr">opacity</span>: <span class="number">0</span>, <span class="attr">transform</span>: <span class="string">'translate3d(0,-40px,0)'</span> &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Link to=<span class="string">"/"</span>&gt;来到首页&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">            &lt;Link to="/</span>about<span class="string">"&gt;来到About&lt;/Link&gt;</span></span><br><span class="line"><span class="string">            &lt;Link to="</span>/search<span class="string">"&gt;来到Search&lt;/Link&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            &#123;/*路由切换动画*/&#125;</span></span><br><span class="line"><span class="string">            &#123;transitions.map((&#123; item, props, key &#125;) =&gt; (</span></span><br><span class="line"><span class="string">                &lt;animated.div key=&#123;key&#125; style=&#123;props&#125;&gt;</span></span><br><span class="line"><span class="string">                    &lt;Switch&gt;</span></span><br><span class="line"><span class="string">                        &lt;Route path='/' exact component=&#123;Home&#125; /&gt;</span></span><br><span class="line"><span class="string">                        &lt;Route path='/about' component=&#123;About&#125; /&gt;</span></span><br><span class="line"><span class="string">                        &lt;Route path='/search' strict component=&#123;Search&#125; /&gt;</span></span><br><span class="line"><span class="string">                    &lt;/Switch&gt;</span></span><br><span class="line"><span class="string">                &lt;/animated.div&gt;</span></span><br><span class="line"><span class="string">            ))&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">export default App2;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//main.js</span></span><br><span class="line"><span class="string">//这边必须要用HashRouter包裹App2，以便在App2中能使用useLocation方法</span></span><br><span class="line"><span class="string">ReactDom.render(&lt;HashRouter&gt;&lt;App2&gt;&lt;/App2&gt;&lt;/HashRouter&gt;,document.getElementById("</span>app<span class="string">"))</span></span><br></pre></td></tr></table></figure>

<h1 id="10-useChain使用"><a href="#10-useChain使用" class="headerlink" title="10.   useChain使用"></a>10.   useChain使用</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">useChain可以创建动画链，让多个动画按照顺序执行</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; useState,useRef &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; useSpring ,useTransition,useChain, animated &#125; <span class="keyword">from</span> <span class="string">'react-spring'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'@/styles/demo14.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Demo14 = <span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//transition动画的数据源</span></span><br><span class="line">    <span class="keyword">const</span> data = [&#123; <span class="attr">name</span>: <span class="number">1</span>, <span class="attr">css</span>: <span class="string">"red"</span> &#125;, &#123; <span class="attr">name</span>: <span class="number">2</span>, <span class="attr">css</span>: <span class="string">"blue"</span> &#125;, &#123; <span class="attr">name</span>: <span class="number">3</span>, <span class="attr">css</span>: <span class="string">"yellow"</span> &#125;, &#123; <span class="attr">name</span>: <span class="number">4</span>, <span class="attr">css</span>: <span class="string">"pink"</span> &#125;];</span><br><span class="line">    <span class="comment">//定义一个open state用于控制窗口是否被打开</span></span><br><span class="line">    <span class="keyword">const</span> [open, setOpen] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//useRef()方法可以创建一个引用,这边使用useRef()创建一个spring动画的引用</span></span><br><span class="line">    <span class="keyword">const</span> springRef = useRef()</span><br><span class="line">    <span class="comment">//创建Spring动画,作用是当open为true的时候，让父盒子变大</span></span><br><span class="line">    <span class="keyword">const</span> &#123; size, background &#125; = useSpring(&#123;</span><br><span class="line">        ref: springRef,</span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">size</span>: <span class="string">'30%'</span>, <span class="attr">background</span>: <span class="string">'hotpink'</span> &#125;,</span><br><span class="line">        to: &#123; <span class="attr">size</span>: open ? <span class="string">'100%'</span> : <span class="string">'30%'</span>, <span class="attr">background</span>: open ? <span class="string">'white'</span> : <span class="string">'hotpink'</span> &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个transRef的引用</span></span><br><span class="line">    <span class="keyword">const</span> transRef = useRef()</span><br><span class="line">    <span class="comment">//创建过渡动画(当父盒子打开后，若干子盒子呈现)</span></span><br><span class="line">    <span class="keyword">const</span> transitions = useTransition(open ? data : [], item =&gt; item.name, &#123;</span><br><span class="line">        ref: transRef,</span><br><span class="line">        unique: <span class="literal">true</span>, <span class="comment">//动画进入和离开使用相同的key</span></span><br><span class="line">        trail: <span class="number">400</span>/data.length,  <span class="comment">//动画的延迟时间</span></span><br><span class="line">        <span class="keyword">from</span>: &#123; <span class="attr">opacity</span>: <span class="number">0</span>, <span class="attr">transform</span>: <span class="string">'scale(0)'</span> &#125;,</span><br><span class="line">        enter: &#123; <span class="attr">opacity</span>: <span class="number">1</span>, <span class="attr">transform</span>: <span class="string">'scale(1)'</span> &#125;,</span><br><span class="line">        leave: &#123; <span class="attr">opacity</span>: <span class="number">0</span>, <span class="attr">transform</span>: <span class="string">'scale(0)'</span> &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建动画链  当open是true，先执行springRef动画；否则先执行transRef动画</span></span><br><span class="line">    <span class="comment">// 当open为true，0~0.1执行springRef动画，0.1之后执行transRef动画</span></span><br><span class="line">    <span class="comment">// 当open为false，0~0.6执行transRef动画，0.6之后执行springRef动画</span></span><br><span class="line">    useChain(open ? [springRef, transRef] : [transRef, springRef], [<span class="number">0</span>, open ? <span class="number">0.1</span> : <span class="number">0.6</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;animated.div className=<span class="string">"parent"</span> style=&#123;&#123; <span class="attr">width</span>: size, <span class="attr">height</span>: size, background &#125;&#125; onClick=&#123;() =&gt; setOpen(<span class="function"><span class="params">open</span> =&gt;</span> !open)&#125;&gt;</span><br><span class="line">            &#123;transitions.map(<span class="function">(<span class="params">&#123; item, key, props &#125;</span>) =&gt;</span> (</span><br><span class="line">                &lt;animated.div className=<span class="string">"item"</span> key=&#123;key&#125; style=&#123;&#123; ...props, <span class="attr">background</span>: item.css &#125;&#125; /&gt;</span><br><span class="line">            ))&#125;</span><br><span class="line">        &lt;<span class="regexp">/animated.div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Demo14;</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/26/18.拓展-课外问题总结-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/26/18.拓展-课外问题总结-5/" itemprop="url">18.拓展-课外问题总结(5)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-26T16:45:57+08:00">
                2019-11-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1、将A、B、C、D四个元素次序进栈（中间可能有出栈操作，例如A进栈后出栈，B再进栈），则可能的出栈系列是-B"><a href="#1、将A、B、C、D四个元素次序进栈（中间可能有出栈操作，例如A进栈后出栈，B再进栈），则可能的出栈系列是-B" class="headerlink" title="1、将A、B、C、D四个元素次序进栈（中间可能有出栈操作，例如A进栈后出栈，B再进栈），则可能的出栈系列是(B)"></a>1、将A、B、C、D四个元素次序进栈（中间可能有出栈操作，例如A进栈后出栈，B再进栈），则可能的出栈系列是(B)</h3><p>A. C A D B    B. B D C A    C. C D A B     D. D A B C</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">栈是先进后出  次序进栈  出栈的顺序应该是 D C B A（方便理解 命名为倒序）</span><br><span class="line">因为有提前出栈的可能，所以出现的可能有三种：</span><br><span class="line">①单个字母 + 倒序      ② 顺序 + 倒序    ③ 顺序</span><br></pre></td></tr></table></figure>



<h3 id="2、JavaScript怎样添加、移除、移动、复制、创建和查找节点？"><a href="#2、JavaScript怎样添加、移除、移动、复制、创建和查找节点？" class="headerlink" title="2、JavaScript怎样添加、移除、移动、复制、创建和查找节点？"></a>2、JavaScript怎样添加、移除、移动、复制、创建和查找节点？</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）创建新节点</span><br><span class="line">      createDocumentFragment()    <span class="comment">//创建一个DOM片段</span></span><br><span class="line">      createElement()   <span class="comment">//创建一个具体的元素</span></span><br><span class="line">      createTextNode()   <span class="comment">//创建一个文本节点</span></span><br><span class="line">（<span class="number">2</span>）添加、移除、替换、插入</span><br><span class="line">      appendChild()</span><br><span class="line">      removeChild()</span><br><span class="line">      replaceChild()</span><br><span class="line">      insertBefore()</span><br><span class="line">（<span class="number">3</span>）查找</span><br><span class="line">      getElementsByTagName()    <span class="comment">//通过标签名称</span></span><br><span class="line">      getElementsByName()    <span class="comment">//通过元素的Name属性的值</span></span><br><span class="line">      getElementById()    <span class="comment">//通过元素Id，唯一性</span></span><br></pre></td></tr></table></figure>

<h3 id="3、请写出Jquery-Ajax简单调用方法"><a href="#3、请写出Jquery-Ajax简单调用方法" class="headerlink" title="3、请写出Jquery Ajax简单调用方法"></a>3、请写出Jquery Ajax简单调用方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">　　type: <span class="string">"post"</span>,　　　　　　　　　　<span class="comment">//以POST的方式发送请求</span></span><br><span class="line">　　url: url,　　　　　　　　　　　　<span class="comment">//拼凑的链接及参数</span></span><br><span class="line">　　contentType: <span class="string">"application/json"</span>,</span><br><span class="line">　　dataType: <span class="string">"json"</span>,</span><br><span class="line">　　success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>)</span></span><br><span class="line"><span class="function">　　</span>&#123;</span><br><span class="line">　　　　<span class="comment">//成功获取一般处理程序响应后执行的代码</span></span><br><span class="line">　　&#125;,</span><br><span class="line">　　error: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>)</span></span><br><span class="line"><span class="function">　　</span>&#123;</span><br><span class="line">　　　　<span class="comment">//收到一般处理程序响应失败后执行的代码</span></span><br><span class="line">　　&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="4、请你谈一谈你是如何理解前端模块化"><a href="#4、请你谈一谈你是如何理解前端模块化" class="headerlink" title="4、请你谈一谈你是如何理解前端模块化"></a>4、请你谈一谈你是如何理解前端模块化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">前端模块化侧重代码的功能封装，方便代码的分层开发，保证每个功能模块的职能单一，降低了代码的耦合度，减少重复代码，提高代码重用性</span><br></pre></td></tr></table></figure>



<h3 id="5、请描述下cookies，sessionStorage和localStorage的区别？"><a href="#5、请描述下cookies，sessionStorage和localStorage的区别？" class="headerlink" title="5、请描述下cookies，sessionStorage和localStorage的区别？"></a>5、请描述下cookies，sessionStorage和localStorage的区别？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">共同点：都是保存在浏览器端</span><br><span class="line">cookies：在浏览器和服务器间来回传递，数据不能超过4k，只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭，在所有同浏览器窗口中都是共享的。</span><br><span class="line">sessionStorage：不会自动把数据发给服务器，仅在本地保存，存储可以达到5M，仅在当前浏览器窗口关闭前有效，不能持久保持，且仅在当前页面中有效，不能共享。</span><br><span class="line">localStorage也不会自动把数据发给服务器，仅在本地保存，存储可以达到20M，存储在硬盘上，即使窗口或浏览器关闭也一直保存，用作持久保持，在所有同浏览器窗口中都是共享的。</span><br></pre></td></tr></table></figure>



<h3 id="6、什么是跨域？解决跨域的方法有哪些？"><a href="#6、什么是跨域？解决跨域的方法有哪些？" class="headerlink" title="6、什么是跨域？解决跨域的方法有哪些？"></a>6、什么是跨域？解决跨域的方法有哪些？</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">跨域问题只有在前端的ajax和后台交互的过程中才会产生，当使用ajax从一个url向另外一个url发送请求时，只要两个url的协议、域名、端口号中任何一个不一样，就构成了跨域</span><br><span class="line"></span><br><span class="line">解决跨域<span class="number">9</span>种办法：</span><br><span class="line"><span class="number">1</span>、 JSONP：</span><br><span class="line">jsonp的原理就是利用&lt;script&gt;标签没有跨域限制，通过&lt;script&gt;标签src属性，发送带有callback参数的GET请求，服务端将接口返回数据拼凑到callback函数中，返回给浏览器，浏览器解析执行，从而前端拿到callback函数返回的数据。</span><br><span class="line">jsonp的缺点：只能发送<span class="keyword">get</span>一种请求。</span><br><span class="line"></span><br><span class="line">2、 跨域资源共享（CORS）</span><br><span class="line">它允许浏览器向跨源服务器，发出XMLHttpRequest请求，从而克服了AJAX只能同源使用的限制。</span><br><span class="line">CORS需要浏览器和服务器同时支持。目前，所有浏览器都支持该功能，IE浏览器不能低于IE10。</span><br><span class="line">浏览器将CORS跨域请求分为简单请求和非简单请求。</span><br><span class="line"></span><br><span class="line">3、 nginx代理跨域</span><br><span class="line">nginx代理跨域，实质和CORS跨域原理一样，通过配置文件设置请求响应头Access-Control-Allow-Origin…等字段。</span><br><span class="line"></span><br><span class="line">4、nodejs中间件代理跨域</span><br><span class="line">1）非vue框架的跨域</span><br><span class="line">使用node + express + http-proxy-middleware搭建一个proxy服务器。</span><br><span class="line">2）vue框架的跨域</span><br><span class="line">node + vue + webpack + webpack-dev-server搭建的项目，跨域请求接口，直接修改webpack.config.js配置。开发环境下，vue渲染服务和接口代理服务都是webpack-dev-server同一个，所以页面与代理接口之间不再跨域。</span><br><span class="line"></span><br><span class="line">5、 document.domain + iframe跨域</span><br><span class="line">此方案仅限主域相同，子域不同的跨域应用场景。实现原理：两个页面都通过js强制设置document.domain为基础主域，就实现了同域。</span><br><span class="line"></span><br><span class="line">父窗口：(http://www.domain.com/a.html)</span><br><span class="line">子窗口：(http://child.domain.com/a.html)</span><br><span class="line">document.domain = 'domain.com';</span><br><span class="line">     </span><br><span class="line">6、location.hash + iframe跨域</span><br><span class="line">实现原理： a欲与b跨域相互通信，通过中间页c来实现。 三个页面，不同域之间利用iframe的location.hash传值，相同域之间直接js访问来通信。</span><br><span class="line"></span><br><span class="line">具体实现：A域：a.html -&gt; B域：b.html -&gt; A域：c.html，a与b不同域只能通过hash值单向通信，b与c也不同域也只能单向通信，但c与a同域，所以c可通过parent.parent访问a页面所有对象。</span><br><span class="line"></span><br><span class="line">7、window.name + iframe跨域</span><br><span class="line">window.name属性的独特之处：name值在不同的页面（甚至不同域名）加载后依旧存在，并且可以支持非常长的 name 值（2MB）。</span><br><span class="line"></span><br><span class="line">8、跨文档通信 API：window.postMessage()</span><br><span class="line">postMessage是HTML5 XMLHttpRequest Level 2中的API，且是为数不多可以跨域操作的window属性之一。</span><br><span class="line">主要包括接受信息的”message”事件和发送消息的”postMessage”方法。</span><br><span class="line"></span><br><span class="line">9、WebSocket协议跨域</span><br><span class="line">WebSocket protocol是HTML5一种新的协议。它实现了浏览器与服务器全双工通信，同时允许跨域通讯，是server push技术的一种很好的实现。</span><br><span class="line"></span><br><span class="line">http://www.imooc.com/article/291931</span><br></pre></td></tr></table></figure>



<h3 id="8、写出一条Sql语句：查询User表中第11条到第30条记录（以自动增长的ID作为主键，注意：ID可能不是连续的）"><a href="#8、写出一条Sql语句：查询User表中第11条到第30条记录（以自动增长的ID作为主键，注意：ID可能不是连续的）" class="headerlink" title="8、写出一条Sql语句：查询User表中第11条到第30条记录（以自动增长的ID作为主键，注意：ID可能不是连续的）"></a>8、写出一条Sql语句：查询User表中第11条到第30条记录（以自动增长的ID作为主键，注意：ID可能不是连续的）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">解1: select top 20 * from User where id not in (select top 10 id from User) </span><br><span class="line">解2: select top 20 * from User where id &gt; (select max(id) from (select top 10 id from User )as</span><br></pre></td></tr></table></figure>



<h3 id="9、请问在JavaScript程序中，alert-undefined-null-的输出结果是？（C）"><a href="#9、请问在JavaScript程序中，alert-undefined-null-的输出结果是？（C）" class="headerlink" title="9、请问在JavaScript程序中，alert(undefined == null)的输出结果是？（C）"></a>9、请问在JavaScript程序中，alert(undefined == null)的输出结果是？（C）</h3><p>  A. null   B. undefined   C. true    D. false</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ECMAScript认为undefined是从null派生出来的，因此将它们定义为不严格意义上的相等，即undefined==null。</span><br><span class="line"></span><br><span class="line">console.log( undefined === null ) //false</span><br><span class="line">typeof null          //object</span><br><span class="line">typeof undefined    //undefined</span><br></pre></td></tr></table></figure>

<h3 id="10、下面JavaScript代码显示结果是？（A）"><a href="#10、下面JavaScript代码显示结果是？（A）" class="headerlink" title="10、下面JavaScript代码显示结果是？（A）"></a>10、下面JavaScript代码显示结果是？（A）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> Bollean(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">If(x)&#123;</span><br><span class="line"></span><br><span class="line">alert(‘hi’);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> y = <span class="built_in">Boolean</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">If(y)&#123;</span><br><span class="line"></span><br><span class="line">Alert(‘hello’);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>A. Hi   B. hi hello   C. hello   D.不显示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Boolean对象与Boolean原始值的区别   当一个值为false的Boolean对象放到条件语句当中的时候，Boolean对象的值会被当作true来计算   Boolean(0)强制转化成布尔值而不是布尔对象，仅返回一个为false的值</span><br></pre></td></tr></table></figure>



<h3 id="11、分析下面这两行JavaScript代码的作用（C）"><a href="#11、分析下面这两行JavaScript代码的作用（C）" class="headerlink" title="11、分析下面这两行JavaScript代码的作用（C）"></a>11、分析下面这两行JavaScript代码的作用（C）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">01</span>  &lt;a href=<span class="string">"javascript:history.back()"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="number">02</span>  &lt;a href=<span class="string">"javascript:history.forward()"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>A. 代码第1行的作用相当于前进按钮</p>
<p>B. 代码第2行的作用相当于后退按钮</p>
<p>C. 代码第1行的作用相当于后退按钮</p>
<p>D. 以上表述都不正确</p>
<h3 id="12、关于HTTP协议，下列说法错误的是（C）"><a href="#12、关于HTTP协议，下列说法错误的是（C）" class="headerlink" title="12、关于HTTP协议，下列说法错误的是（C）"></a>12、关于HTTP协议，下列说法错误的是（C）</h3><p>A. HTTP是无状态协议           B.HTTP是应用层协议</p>
<p>C. HTTP是基于二进制的协议     D. HTTP状态码200表示成功</p>
<h3 id="13、在HTML页面上包含如下所示的层对象，则JavaScript语句document-getElementById-“info”-innerHTML-的值是（B）"><a href="#13、在HTML页面上包含如下所示的层对象，则JavaScript语句document-getElementById-“info”-innerHTML-的值是（B）" class="headerlink" title="13、在HTML页面上包含如下所示的层对象，则JavaScript语句document.getElementById(“info”).innerHTML 的值是（B）"></a>13、在HTML页面上包含如下所示的层对象，则JavaScript语句document.getElementById(“info”).innerHTML 的值是（B）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=”info”</span><br><span class="line">style=”display:block”&gt;&lt;p&gt;请填写&lt;/p&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">A. 请填写</span><br><span class="line"></span><br><span class="line">B. &lt;p&gt;请填写&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">C. id=”info” style=”display:block”</span><br><span class="line"></span><br><span class="line">D. &lt;div id=&quot;info&quot; style=&quot;display:block&quot;&gt;&lt;p&gt;请填写&lt;/p&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>






          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/26/17.拓展-课外问题总结-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/26/17.拓展-课外问题总结-4/" itemprop="url">17.拓展-课外问题总结(4)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-26T16:44:57+08:00">
                2019-11-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.分别一句话介绍，Cookie和session是什么，两者的关系和区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cookie   位于用户的计算机上，用来维护用户计算机中的信息，直到用户删除。   (比如我们在网页上登录某个软件时输入用户名及密码时如果保存为cookie，则每次我们访问的时候就不需要登录网站了。我们可以在浏览器上保存任何文本，而且我们还可以随时随地的去阻止它或者删除。我们同样也可以禁用或者编辑cookie，但是有一点需要注意不要使用cookie来存储一些隐私数据，以防隐私泄露。)   session   session称为会话信息，位于web服务器上，主要负责访问者与网站之间的交互，当访问浏览器请求http地址时，将传递到web服务器上并与访问信息进行匹配， 当关闭网站时就表示会话已经结束，网站无法访问该信息了，所以它无法保存永久数据，我们无法访问以及禁用网站   session与cookie的区别   Cookie数据存在客户端本地，Session数据存在服务器   Cookie数据可以被客户端随意修改，Session因为数据在服务器，所以用户不可以随意修改,因此session更安全   Cookie的存储是有限制的(每个站点cookie不超过50个，每个cookie不超过4kb，cookie只能存储非中文的字符串)，Session没有限制   设置cookie时间可以使cookie过期。但是使用session-destory（），我们将会销毁会话。           如果我们需要经常登录一个站点时，最好用cookie来保存信息，要不然每次登陆都特别麻烦，如果对于需要安全性高的站点以及控制数据的能力时需要用会话效果更佳，当然我们也可以结合两者，使网站按照我们的想法进行运行</span><br></pre></td></tr></table></figure>

<p>2一句话解释Bootstrap的栅格系统。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">Bootstrap 提供了一套响应式、移动设备优先的流式栅格系统，随着屏幕或视口（viewport）尺寸的增加，系统会自动分为最多<span class="number">12</span>列。</span><br><span class="line">栅格系统用于通过一系列的行（row）与列（column）的组合来创建页面布局，你的内容就可以放入这些创建好的布局中。</span><br><span class="line">（<span class="number">1</span>）第一步：创建栅格系统的容器　　　 </span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"container-fluid"</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"row"</span>&gt;</span><br><span class="line">    ...</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">.container是固定宽度，居中显示:下面是Bootstrap中.container类的代码</span><br><span class="line"></span><br><span class="line">.container-fluid是 <span class="number">100</span>% 宽度：下面是Bootstrap中.container-fluid类的代码</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)第二步：创建合适的栅格系统</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"row"</span>&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-1"</span>&gt;.col-md<span class="number">-1</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  　&lt;div class="col-md-1"&gt;.col-md-1&lt;/</span>div&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-1"</span>&gt;.col-md<span class="number">-1</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-1"&gt;.col-md-1&lt;/</span>div&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-1"</span>&gt;.col-md<span class="number">-1</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-1"&gt;.col-md-1&lt;/</span>div&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-1"</span>&gt;.col-md<span class="number">-1</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-1"&gt;.col-md-1&lt;/</span>div&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-1"</span>&gt;.col-md<span class="number">-1</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-1"&gt;.col-md-1&lt;/</span>div&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-1"</span>&gt;.col-md<span class="number">-1</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-1"&gt;.col-md-1&lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div class="row"&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-8"&gt;.col-md-8&lt;/</span>div&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-4"</span>&gt;.col-md<span class="number">-4</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"row"</span>&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-4"</span>&gt;.col-md<span class="number">-4</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-4"&gt;.col-md-4&lt;/</span>div&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-4"</span>&gt;.col-md<span class="number">-4</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"row"</span>&gt;</span><br><span class="line">　　&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-md-6"</span>&gt;.col-md<span class="number">-6</span>&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">　　&lt;div class="col-md-6"&gt;.col-md-6&lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">每一个“row”代表一行，而内部的“col-md-数字”代表一个单元格；</span></span><br><span class="line"><span class="regexp">Bootstrap把每一行分成12等份，“col-md-数字”中的“数字”从1-12中取，数字等于几，就占几份；</span></span><br><span class="line"><span class="regexp">合理的选择单元格的数字配置，再往单元格中添加我们想要的内容，这样一个栅格系统就完成了！</span></span><br></pre></td></tr></table></figure>





<p>  3一句话介绍Vuex是什么?用于哪些场景?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。（vuex是一个全局单例模式管理。）</span><br><span class="line">使用场景：当应用遇到多个组件共享状态的时候，使用vuex。即：多个视图依赖于同一个状态，不同视图的行为需要变更同一个状态。</span><br><span class="line"></span><br><span class="line">拓展内容：</span><br><span class="line">如果您不打算开发大型单页应用，使用 Vuex 可能是繁琐冗余的。如果您的应用够简单，您最好不要使用 Vuex。一个简单的 store模式就足够您所需了。但是，如果您需要构建一个中大型单页应用，您很可能会考虑如何更好地在组件外部管理状态，Vuex 将会成为自然而然的选择。</span><br><span class="line">什么是单页应用</span><br><span class="line">在应用整个使用流程里浏览器由始至终没有刷新，所有的数据交互由ajax完成。但是用户体验起来和app一样，有明确的页面区分，即所谓的web app，整个webapp就一个html文件，里面的各个功能页面是javascript通过hash,或者history api来进行路由，并通过ajax拉取数据来实现响应功能。因为整个webapp就一个html，所以叫单页面。</span><br><span class="line">在我们以前开发web程序的时候，都是通过不同的html，js，css进行控制。网站就是网页的集合，但是如今react，angular，vue的诞生，产生了单页面应用（single page application），构建web应用可能只有一个页面，这个页面不再是简单地把内容进行布局排序，它已经成为web应用的容器。</span><br></pre></td></tr></table></figure>




<p> 4分别一句话介绍，父子组件怎么传值?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">父传子</span><br><span class="line">1.在子组件中声明props，这边的数据表示来自父亲的数据</span><br><span class="line">2.在父组件中使用子组件的时候给子组件绑定值</span><br><span class="line">3.在页面上使用父亲传递过来的值</span><br><span class="line">子传父</span><br><span class="line">1.在父亲中声明一个方法用于接收子组件的数据</span><br><span class="line">2.在创建子组件的时候把父亲中的函数传递给子组件</span><br><span class="line">3.点击子组件按钮执行子组件的方法，在子组件的方法中触发父组件传递过来的函数</span><br></pre></td></tr></table></figure>

<p> 5 Vue router如何实现跳转，跳转后的view是否更新了，如果不能，怎样触发更新?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">首先在页面中引入VueJS以及vue-router模块，使用router-link可以把文字设置成超链接的形式，而to则是指要跳转到哪个路由，当路由跳转后所有的数据都会在router-view中呈现，在script中创建router实例，将创建的组件与路由绑定即可。</span><br><span class="line"></span><br><span class="line">&lt;!-- :key=&quot;$route.fullPath&quot; 解决同路由但不同查询参数跳转后数据不更新 --&gt; &lt;router-view :key=&quot;$route.fullPath&quot; /&gt;</span><br><span class="line">（：key=“一个具有唯一值的 key 属性即可”）</span><br></pre></td></tr></table></figure>










          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/26/16.拓展-课外问题总结-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/26/16.拓展-课外问题总结-3/" itemprop="url">16.拓展-课外问题总结(3)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-26T16:43:57+08:00">
                2019-11-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1、以下代码的输出结果是    10     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">	a[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>]();</span><br></pre></td></tr></table></figure>

<p>解析：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var声明的变量i ，没有形成一个块级的作用域，所以里面的funciton不能形成一个闭包，每次也不会保存i的值。只有当a[i]（）这个函数执行的时候，funciton会沿着作用域链查找i的值，父级作用域就是window，这个时候i已经加到了10。</span><br></pre></td></tr></table></figure>

<p>2.以下代码的输出结果是    6     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">	a[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>]();</span><br></pre></td></tr></table></figure>

<p>解析：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let声明的变量，属于块级作用域，声明周期就在大括号中，在外部是不可以打印的，所以funciton在内部就形成了一个闭包，funciton里面可以引用父级作用域的变量，引用的就是funciton被定义时的父作用域的变量值，所以在执行a[i] = function () &#123; console.log(i);&#125;的时候 fucniton都保存了当时的i值</span><br></pre></td></tr></table></figure>

<p>3.以下代码的输出结果是   George,John,Thomas,James,Adrew,Martin     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">6</span>)</span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">"George"</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="string">"John"</span></span><br><span class="line">arr[<span class="number">2</span>] = <span class="string">"Thomas"</span></span><br><span class="line">arr[<span class="number">3</span>] = <span class="string">"James"</span></span><br><span class="line">arr[<span class="number">4</span>] = <span class="string">"Adrew"</span></span><br><span class="line">arr[<span class="number">5</span>] = <span class="string">"Martin"</span></span><br><span class="line">arr.splice = (<span class="number">2</span>,<span class="number">3</span>,<span class="string">"William"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr.toString());</span><br></pre></td></tr></table></figure>

<p>解析：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">splice 方法可以移除从start 位置开始的指定个数的元素并插入新元素，从而修改 arrayObj。返回值是一个由所移除的元素组成的新的Array 对象。</span><br><span class="line">只是作用于数组，不能作用于字符串，ToString方法不受影响。</span><br></pre></td></tr></table></figure>

<p>4、以下代码的输出结果是      0,4,16,36,64     </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br><span class="line"><span class="keyword">let</span> newArray = array</span><br><span class="line">.filter(<span class="function">(<span class="params">v</span>) =&gt;</span> v % <span class="number">2</span> === <span class="number">0</span>) <span class="comment">//0，2，4，6，8			 .map((v) =&gt; Math.pow(v,2)); //pow返回v的2次幂的值</span></span><br><span class="line"><span class="built_in">console</span>.log(newArray.toString());</span><br></pre></td></tr></table></figure>

<p>5、以下代码的输出结果是      {“a”:1,”b”:2,”c”:3}    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;</span><br><span class="line">	  a:<span class="number">1</span>,</span><br><span class="line">	  b:<span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> source1 = &#123;</span><br><span class="line">	  b:<span class="number">2</span>,</span><br><span class="line">	  c:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> source2 = &#123;</span><br><span class="line">	  c:<span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Object</span>.assign(target,source1,source2);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(target));</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object.assign可以用来处理数组，但是会把数组视为对象。第一个参数是目标对象，后面的参数都是源对象。如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性。</span><br></pre></td></tr></table></figure>

<p>6、以下代码的功能是 ：  <u>解决异步问题</u>    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">ms</span>)</span>&#123;</span><br><span class="line">	  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">			setTimeout(resolve,ms);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">			</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">message,ms</span>)</span>&#123;</span><br><span class="line">	  <span class="keyword">await</span> foo(ms);</span><br><span class="line">	  <span class="built_in">console</span>.log(message);</span><br><span class="line">&#125;</span><br><span class="line">			</span><br><span class="line">print(<span class="string">'hello world'</span>,<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//解决异步问题的方案：</span></span><br><span class="line"><span class="comment">//1.可以使用回调来解决</span></span><br><span class="line"><span class="comment">//2.可以使用promise来解决</span></span><br><span class="line"><span class="comment">//3.可以使用await和async来解决   （最简单）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//async是用来修饰方法的,加上async修饰的方法有三个作用</span></span><br><span class="line"><span class="comment">//1.在该方法内部可以使用await关键字</span></span><br><span class="line"><span class="comment">//2.该方法需要会默认返回一个Promise</span></span><br><span class="line"><span class="comment">//3.加async修饰的方法表示异步方法，不会堵塞当前线程的执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//await是用来等待Promise执行的结果的，await后面需要跟一个Promise</span></span><br><span class="line"><span class="comment">//1.可以将原来的异步变成同步任务</span></span><br><span class="line"><span class="comment">//2.只可以在async修饰的方法中使用</span></span><br></pre></td></tr></table></figure>

<p>7、以下代码的输出结果是 </p>
<p>object<br>string  object  object<br>number  Boolean  function    </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">null</span>;                   </span><br><span class="line"><span class="keyword">let</span> b = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">let</span> c = [];</span><br><span class="line"><span class="keyword">let</span> d = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> e = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> f = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> g = <span class="function"><span class="params">a</span> =&gt;</span> a+<span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> c);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> d);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> e);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> f);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> g);</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span>运算符的返回类型为字符串，值包括如下几种：</span><br><span class="line"><span class="number">1.</span><span class="literal">undefined</span> --未定义的变量或值</span><br><span class="line"><span class="number">2.</span>boolean    --布尔类型的变量或值</span><br><span class="line"><span class="number">3</span>．string   --字符串类型的变量或值</span><br><span class="line"><span class="number">4.</span>number   --数字类型的变量或值</span><br><span class="line"><span class="number">5.</span>object    --对象类型的变量或值，或者<span class="literal">null</span></span><br><span class="line"><span class="number">6.</span><span class="function"><span class="keyword">function</span>  --函数类型的变量或值</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/26/15.拓展-课外问题总结-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/26/15.拓展-课外问题总结-2/" itemprop="url">15.拓展-课外问题总结(2)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-26T16:42:57+08:00">
                2019-11-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.console.log([] == ![])</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案：true</span><br><span class="line">![] 会变成 false，false会变成0；也就是==右侧 是 0；</span><br><span class="line">Number([]) == 0</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>打印如下：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'world'</span>;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(<span class="keyword">typeof</span> name === <span class="string">'undefined'</span>)&#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">var</span> name = <span class="string">'Jake'</span>;</span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'hi'</span> + name)</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'hello'</span>_name)</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<p>答案：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">答案：hiJake</span><br><span class="line">(function()&#123;&#125;)是个闭包函数，name属于局部变量，无法获取到全局变量，所以name是undefined</span><br></pre></td></tr></table></figure>

<p>3.打印</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">0</span>;k&lt;<span class="number">3</span>;k++)&#123;</span><br><span class="line"></span><br><span class="line">   data[k] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(k)</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data[<span class="number">2</span>]()</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案：3</span><br><span class="line"></span><br><span class="line">输出的data = [3,3,3]</span><br></pre></td></tr></table></figure>

<p>4.不使用第三个变量交换两个数的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1)利用两数之和减去另一个数 </span><br><span class="line">a=a+b</span><br><span class="line">  b=a-b</span><br><span class="line">  a=a-b</span><br><span class="line">2)利用位运算符^</span><br><span class="line">a= a^b   </span><br><span class="line">b= a^b</span><br></pre></td></tr></table></figure>

<p>5.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = (<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.a = a  ---<span class="number">-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">this</span>.a+b   ---<span class="number">-1</span>+<span class="number">4</span> </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a  ----返回a是<span class="number">1</span></span><br><span class="line"></span><br><span class="line">&#125;(<span class="number">1</span>,<span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(test(<span class="number">4</span>)) 输出多少</span><br></pre></td></tr></table></figure>

<p>答案：5</p>
<p>6.打印</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x =<span class="number">1</span>,y=z=<span class="number">0</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">		n = n+<span class="number">1</span></span><br><span class="line">		<span class="keyword">return</span> n</span><br><span class="line">	&#125;</span><br><span class="line">	y = add(x)</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">		n = n+<span class="number">3</span></span><br><span class="line">	&#125;</span><br><span class="line">	z = add(x)</span><br><span class="line">	<span class="built_in">console</span>.log(x,y,z)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">答案：1 undefined undefined</span><br><span class="line">函数add() 没有返回值，如果同时加上return n，同名函数会调用最后的一个函数</span><br></pre></td></tr></table></figure>

<p>7.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> foo</span><br><span class="line"></span><br><span class="line">      foo = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">var</span> foo = <span class="number">11</span>     </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    alert(<span class="keyword">typeof</span> bar())</span><br></pre></td></tr></table></figure>

<p>答案：function</p>
<p>8.数组去重</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> ES6</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 利用indexOf去重</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> array = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array .indexOf(arr[i]) === <span class="number">-1</span>) &#123;</span><br><span class="line">            array .push(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>利用sort()</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    arr = arr.sort()</span><br><span class="line">    <span class="keyword">var</span> arrry= [arr[<span class="number">0</span>]];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] !== arr[i<span class="number">-1</span>]) &#123;</span><br><span class="line">            arrry.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arrry;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">4.</span>利用includes</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> array =[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>( !array.includes( arr[i]) ) &#123;    <span class="comment">//includes 检测数组是否有某个值</span></span><br><span class="line">                    array.push(arr[i]);</span><br><span class="line">              &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>利用filter</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//当前元素，在原始数组中的第一个索引==当前索引值，否则返回当前元素</span></span><br><span class="line">    <span class="keyword">return</span> arr.indexOf(item, <span class="number">0</span>) === index;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>9.打印</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">3</span></span><br><span class="line">	<span class="keyword">var</span> foo = &#123;</span><br><span class="line">		x:<span class="number">2</span>,</span><br><span class="line">		baz:&#123;</span><br><span class="line">			x:<span class="number">1</span>,</span><br><span class="line">			bar:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">this</span>.x  </span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> go = foo.baz.bar;</span><br><span class="line">	alert(go());</span><br><span class="line">	alert(foo.baz.bar())</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">答案：3,1</span><br><span class="line"></span><br><span class="line">alert(go()); 这个函数执行的上下文为所以结果为这个函数是对象的方法指向该对象所以结果为答案：3,1</span><br><span class="line"></span><br><span class="line">alert(go()); 这个函数执行的上下文为所以结果为这个函数是对象的方法指向该对象所以结果为1</span><br></pre></td></tr></table></figure>

<ol start="10">
<li>[1,2]+[2,1]</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">答案：1,22,1</span><br><span class="line">把数组转换成字符串，然后在字符串上进行 + 运算</span><br></pre></td></tr></table></figure>

<p>11.判断是否为回文(写一段命令行)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">若一个数从左到右读与从右到左读都是一样，这个数就叫做回文数。</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPalindrome</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> str !== <span class="string">'string'</span> || str.constructor !== <span class="built_in">String</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="built_in">parseInt</span>((str.length+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">	<span class="keyword">if</span> (str[i] !== str[str.length-i<span class="number">-1</span>]) &#123;</span><br><span class="line">	    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/26/14.react路由/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dong Wenbin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DWBBlog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/26/14.react路由/" itemprop="url">14.react路由</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-26T16:24:56+08:00">
                2019-11-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-react路由基本使用"><a href="#1-react路由基本使用" class="headerlink" title="1.   react路由基本使用"></a>1.   react路由基本使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//react-router的使用步骤:</span></span><br><span class="line"><span class="comment">//1.npm install react-router-dom</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.引入HashRouter Route Link</span></span><br><span class="line"><span class="comment">//HashRouter 表示使用hash模式的路由</span></span><br><span class="line"><span class="comment">//Route 表示一个路由规则</span></span><br><span class="line"><span class="comment">//Link 表示点击跳转路由</span></span><br><span class="line"><span class="keyword">import</span> &#123; HashRouter, Route, Link &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/*3.配置路由规则  Route同时会占坑*/</span>&#125;</span><br><span class="line">&#123;<span class="comment">/*路由默认会使用模糊匹配</span></span><br><span class="line"><span class="comment">比如：访问路径 /movie  能够匹配 / 和 /movie */</span>&#125;</span><br><span class="line">&#123;<span class="comment">/* exact表示精确匹配 ：访问路径需要和路由的路径完全一致才能匹配 */</span>&#125;  ★</span><br><span class="line">&lt;Route path=<span class="string">"/"</span> component=&#123;Home&#125; exact&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment">/* strict : 如果路由规则中的路径有/，则要求访问路径中也要有/才能匹配(只看/) */</span>&#125; </span><br><span class="line">&lt;Route path=<span class="string">"/about/:name/:id"</span> component=&#123;About&#125; strict&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">&lt;Route path=<span class="string">"/movie"</span> component=&#123;Movie&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment">/*4.点击Link去访问路由*/</span>&#125;</span><br><span class="line">&lt;Link to=<span class="string">"/"</span>&gt;来到首页&lt;<span class="regexp">/Link&gt; </span></span><br><span class="line"><span class="regexp">&lt;Link to="/</span>about/zhangsan/<span class="number">13</span><span class="string">"&gt;来到关于我们&lt;/Link&gt;  &lt;Link to="</span>/movie<span class="string">"&gt;来到电影&lt;/Link&gt;</span></span><br><span class="line"><span class="string">&lt;br/&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; withRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.props.history.push(<span class="string">"/"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> withRouter (RTab);</span><br><span class="line"></span><br><span class="line">&lt;HashRouter&gt;</span><br><span class="line">      &lt;RNav&gt;<span class="xml"><span class="tag">&lt;/<span class="name">RNav</span>&gt;</span></span></span><br><span class="line">      &lt;RouterMap&gt;<span class="xml"><span class="tag">&lt;/<span class="name">RouterMap</span>&gt;</span></span></span><br><span class="line">      &lt;Button type=<span class="string">'primary'</span>&gt;按钮&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;RTab&gt;&lt;/</span>RTab&gt;  </span><br><span class="line">&lt;<span class="regexp">/HashRouter&gt;</span></span><br></pre></td></tr></table></figure>

<p>hashrouter 只建议套一个，一般套在最前面</p>
<h3 id="2-switch和redirect和组件懒加载"><a href="#2-switch和redirect和组件懒加载" class="headerlink" title="2.  switch和redirect和组件懒加载"></a>2.  switch和redirect和组件懒加载</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment">/*当使用组件懒加载的时候，往往是和Suspense结合使用，fallback表示组件没有加载完毕的时候显示的信息*/</span>&#125;</span><br><span class="line">&lt;Suspense fallback=&#123;&lt;div&gt;Loading...&lt;<span class="regexp">/div&gt;&#125;&gt;</span></span><br><span class="line"><span class="regexp">                    </span></span><br><span class="line"><span class="regexp">                    </span></span><br><span class="line"><span class="regexp">&#123;/</span>*Switch表示路由互斥，我们使用Switch之后，只会匹配一个路由规则*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">&lt;Switch&gt;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp">&#123;/</span>*我们需要给根路径的路由加上exact属性来精确匹配，否则所有的访问路径都会匹配Home组件*<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">&lt;Route path="/</span><span class="string">" component=&#123;Home&#125; exact&gt;&lt;/Route&gt;</span></span><br><span class="line"><span class="string">&lt;Route path="</span>/about/:name/:id<span class="string">" component=&#123;About&#125; strict&gt;&lt;/Route&gt;</span></span><br><span class="line"><span class="string">&lt;Route path="</span>/movie<span class="string">" component=&#123;Movie&#125;&gt;&lt;/Route&gt;</span></span><br><span class="line"><span class="string">&lt;Route path="</span>/search<span class="string">" component=&#123;Search&#125;&gt;&lt;/Route&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#123;/*当没有匹配的路由的时候来到跟路由*/&#125; 重定向</span></span><br><span class="line"><span class="string">&lt;Redirect to="</span>/<span class="string">" /&gt;</span></span><br><span class="line"><span class="string">&lt;/Switch&gt;</span></span><br><span class="line"><span class="string">&lt;/Suspense&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-路由的传参"><a href="#3-路由的传参" class="headerlink" title="3.路由的传参"></a>3.路由的传参</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>  <span class="comment">/*通过params方式传参</span></span><br><span class="line"><span class="comment">  获取参数:props.match.params  </span></span><br><span class="line"><span class="comment">  参数只能是字符串，而且参数会在浏览器地址栏中显示*/</span></span><br><span class="line">&lt;Link to=<span class="string">"/about/zhangsan/13"</span>&gt;来到关于我们-params方式传参&lt;<span class="regexp">/Link&gt; &lt;br /</span>&gt;</span><br><span class="line">  <span class="comment">//获取路由中的参数信息</span></span><br><span class="line"> <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>About组件&#123;props.match.params.id&#125;&#123;props.match.params.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span> <span class="comment">/*通过search方式传参</span></span><br><span class="line"><span class="comment">  获取参数:props.location.search </span></span><br><span class="line"><span class="comment">  参数只能是字符串，而且参数会在浏览器地址栏中显示*/</span></span><br><span class="line">&lt;Link to=<span class="string">"/movie?name=xiaoming"</span>&gt;来到电影-search方式传参&lt;<span class="regexp">/Link&gt; &lt;br /</span>&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span> <span class="comment">/*通过query方式传参  </span></span><br><span class="line"><span class="comment">   获取参数:props.location.query </span></span><br><span class="line"><span class="comment">   好处参数可以是对象，参数信息不会在浏览器的地址栏中显示，所以一刷新页面参数就没了*/</span></span><br><span class="line">&lt;Link to=&#123;&#123; <span class="attr">pathname</span>: <span class="string">'/movie'</span>, <span class="attr">query</span>: &#123; <span class="attr">name</span>: <span class="string">'sunny'</span> &#125; &#125;&#125;&gt;来到电影<span class="number">2</span>-query方式传参&lt;<span class="regexp">/Link&gt; &lt;br /</span>&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span> <span class="comment">/*通过state方式传参</span></span><br><span class="line"><span class="comment">  获取参数:props.location.state   </span></span><br><span class="line"><span class="comment">  好处参数可以是对象，参数信息不会在浏览器的地址栏中显示，</span></span><br><span class="line"><span class="comment">  参数是加密的，所以一刷新页面参数就没了*/</span></span><br><span class="line">&lt;Link to=&#123;&#123; <span class="attr">pathname</span>: <span class="string">'/movie'</span>, <span class="attr">state</span>: &#123; <span class="attr">name</span>: <span class="string">'haha'</span> &#125; &#125;&#125;&gt;来到电影<span class="number">3</span>-state方式传参&lt;<span class="regexp">/Link&gt; &lt;br /</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-编程式导航"><a href="#4-编程式导航" class="headerlink" title="4.编程式导航"></a>4.编程式导航</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用Route包裹的组件会自动将location  history  match注入到组件的props中</span></span><br><span class="line"><span class="comment">//所以在组件中直接可以使用props.location  props.history这些信息</span></span><br><span class="line"><span class="comment">// console.log(props)</span></span><br><span class="line">&lt;Route path=<span class="string">"/movie"</span> component=&#123;Movie&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">props.history.push(&#123;<span class="attr">pathname</span>:<span class="string">"/search"</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果组件没有使用Route包裹，那么不能使用props的location history match这三个参数</span></span><br><span class="line"><span class="comment">//如果此时我们想要用这三个参数，我们可以将当前组件使用withRouter来包裹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//withRouter可以包装任何自定义组件，将react-router 的 history,location,match 三个对象传入</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> withRouter(MovieDetail);</span><br></pre></td></tr></table></figure>

<h3 id="5-ReactCSSTransitionGroup"><a href="#5-ReactCSSTransitionGroup" class="headerlink" title="5.ReactCSSTransitionGroup"></a>5.ReactCSSTransitionGroup</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ReactCSSTransitionGroup 使用步骤</span></span><br><span class="line"><span class="comment">//1.通过npm install react-addons-css-transition-group 安装并引入</span></span><br><span class="line"><span class="keyword">var</span> ReactCSSTransitionGroup = <span class="built_in">require</span>(<span class="string">'react-addons-css-transition-group'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#123;<span class="comment">/*2.给需要动画的元素包裹ReactCSSTransitionGroup，可以对一组元素进行过渡动画*/</span>&#125;</span><br><span class="line">&lt;ReactCSSTransitionGroup</span><br><span class="line">component=<span class="string">"ul"</span> </span><br><span class="line">transitionName=<span class="string">"example"</span>  </span><br><span class="line">transitionEnterTimeout=&#123;<span class="number">500</span>&#125; </span><br><span class="line">transitionLeaveTimeout=&#123;<span class="number">300</span>&#125; </span><br><span class="line">transitionAppear=&#123;<span class="literal">true</span>&#125; </span><br><span class="line">transitionAppearTimeout=&#123;<span class="number">500</span>&#125;&gt;</span><br><span class="line">&#123;<span class="keyword">this</span>.getItems()&#125;</span><br><span class="line">&lt;<span class="regexp">/ReactCSSTransitionGroup&gt;  </span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/3.写动画的样式 (入场动画 出场动画的样式)</span></span><br><span class="line"><span class="regexp">import './</span>demo1.css<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*指定入场动画的开始状态*/</span></span><br><span class="line"><span class="string">.example-enter &#123;</span></span><br><span class="line"><span class="string">    opacity: 0.01;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*指定入场动画的整个过程*/</span></span><br><span class="line"><span class="string">.example-enter.example-enter-active &#123;</span></span><br><span class="line"><span class="string">    opacity: 1;</span></span><br><span class="line"><span class="string">    transition: opacity 500ms ease-in;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*指定出场动画的开始状态*/</span></span><br><span class="line"><span class="string">.example-leave &#123;</span></span><br><span class="line"><span class="string">    opacity: 1;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*指定出场动画的整个过程*/</span></span><br><span class="line"><span class="string">.example-leave.example-leave-active &#123;</span></span><br><span class="line"><span class="string">    opacity: 0.01;</span></span><br><span class="line"><span class="string">    transition: opacity 300ms ease-in;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*指定初始动画的样式*/</span></span><br><span class="line"><span class="string">.example-appear &#123;</span></span><br><span class="line"><span class="string">    opacity: 0.01;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">/*指定初始动画的整个过程*/</span></span><br><span class="line"><span class="string">.example-appear.example-appear-active &#123;</span></span><br><span class="line"><span class="string">    opacity: 1;</span></span><br><span class="line"><span class="string">    transition: opacity .5s ease-in;</span></span><br></pre></td></tr></table></figure>

<h3 id="6-Hook"><a href="#6-Hook" class="headerlink" title="6. Hook"></a>6. Hook</h3><h4 id="6-1-hook的基本使用"><a href="#6-1-hook的基本使用" class="headerlink" title="6.1 hook的基本使用"></a>6.1 hook的基本使用</h4><p><strong><em>Hook</em></strong> <strong>是</strong> <strong>React 16.8</strong> <strong>的新增特性。它可以让你在不编写</strong> <strong>class</strong> <strong>的情况下使用</strong> <strong>state</strong> <strong>以及其他的</strong> <strong>React</strong> <strong>特性。</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Demo1</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//count代表state的变量</span></span><br><span class="line">    <span class="comment">//setCount是一个function，如果我们要修改count变量，需要通过setCount来修改</span></span><br><span class="line">    <span class="keyword">let</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">let</span> [count2, setCount2] = useState(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">let</span> [count3, setCount3] = useState(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;count&#125;</span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; setCount(++count) &#125;&#125;&gt;点我修改count<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;count2&#125;</span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; setCount2(++count2) &#125;&#125;&gt;点我修改count2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;count3&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; setCount3(++count3) &#125;&#125;&gt;点我修改count3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Demo1;</span><br></pre></td></tr></table></figure>

<ul>
<li>不要在循环，条件或嵌套函数中调用Hook，确保总是在你的 React 函数的最顶层调用他们。遵守这条规则，你就能确保<br>Hook 在每一次渲染中都按照同样的顺序被调用。这让 React 能够在多次的 <code>useState</code> 和 <code>useEffect</code> 调用之间保持 hook 状态的正确</li>
</ul>
<h4 id="6-2-effectHook"><a href="#6-2-effectHook" class="headerlink" title="6.2 effectHook"></a>6.2 effectHook</h4><p><em>Effect Hook</em> 可以让你在函数组件中执行副作用操作</p>
<p>副作用：函数内部的代码不对函数外部的代码产生任何影响</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState,useEffect  &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">'./Child.jsx'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Demo2</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//count代表state的变量</span></span><br><span class="line">    <span class="comment">//setCount是一个function，如果我们要修改count变量，需要通过setCount来修改</span></span><br><span class="line">    <span class="keyword">let</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">let</span> [count2, setCount2] = useState(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//useEffect函数可以来模拟class组件的中指定生命周期的钩子函数 componentDidMount，componentDidUpdate，componentWillUnmount</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//相当于componentDidMount 、componentDidUpdate</span></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"xxxxxxxxxxx"</span>,count)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//相当于componentDidMount</span></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"yyyyyyyyy"</span>)</span><br><span class="line">    &#125;,[])</span><br><span class="line"></span><br><span class="line">    <span class="comment">//当count2的值被改变之后执行当前的useEffect，其他值改变不会执行这个useEffect</span></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"zzzzzzzzzzzzz"</span>)</span><br><span class="line">    &#125;,[count2])</span><br><span class="line"></span><br><span class="line">    <span class="comment">//useEffect函数中return的function会在组件重新渲染的时候以及组件卸载的时候执行</span></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hello Hook'</span>)    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;count&#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; setCount(++count) &#125;&#125;&gt;点我修改count<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123; setCount2(++count2) &#125;&#125;&gt;点我修改count2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">Child</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Demo2;</span><br></pre></td></tr></table></figure>

<h4 id="6-3-useContext-的使用"><a href="#6-3-useContext-的使用" class="headerlink" title="6.3 useContext 的使用"></a>6.3 useContext 的使用</h4><p>作用：可以向子孙组件发布数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.在App.jsx</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">MyContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;&#123;name:</span>"<span class="attr">zhangsan</span>"&#125;&#125;&gt;</span></span></span><br><span class="line"><span class="xml">        App</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">Demo2</span>&gt;</span><span class="tag">&lt;/<span class="name">Demo2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">MyContext.Provider</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.Child.jsx</span></span><br><span class="line"><span class="keyword">import</span> React,&#123;useContext&#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> MyContext <span class="keyword">from</span> <span class="string">'@/context.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>(<span class="params">props</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//在子组件中获取父组件发布的数据</span></span><br><span class="line">    <span class="keyword">const</span> contextValue = useContext(MyContext);</span><br><span class="line">    <span class="built_in">console</span>.log(contextValue)</span><br><span class="line">    <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>xx<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义context.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">const</span> MyContext = React.createContext();</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> MyContext;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Dong Wenbin</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">24</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dong Wenbin</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
